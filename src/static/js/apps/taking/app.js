(function () { "use strict"; var t = { 4086: function (t, e, s) { var r = s(9242), a = s(3396); const n = { class: "bg-dark" }, i = { class: "container bg-light" }; function l(t, e, s, r, l, o) { const c = (0, a.up)("loader"), d = (0, a.up)("nav-bar"), _ = (0, a.up)("search-form"), u = (0, a.up)("product-description"), p = (0, a.up)("form-taking"), g = (0, a.up)("report-taking"), m = (0, a.up)("form-group"); return (0, a.wg)(), (0, a.iD)("div", n, [(0, a._)("div", i, [l.show_view.loader ? ((0, a.wg)(), (0, a.j4)(c, { key: 0, server_status: l.server_status, onChangeView: e[0] || (e[0] = t => o.switchView(t)) }, null, 8, ["server_status"])) : (0, a.kq)("", !0), (0, a._)("div", null, [!1 === l.show_view.loader ? ((0, a.wg)(), (0, a.j4)(d, { key: 0, taking: l.taking, team: l.team, user: l.user, report: l.report, onChangeView: e[1] || (e[1] = t => o.switchView(t)) }, null, 8, ["taking", "team", "user", "report"])) : (0, a.kq)("", !0), l.show_view.search_form ? ((0, a.wg)(), (0, a.j4)(_, { key: 1, class: "mt-1", products: l.products, onSelectProduct: e[2] || (e[2] = t => o.selectItem(t)) }, null, 8, ["products"])) : (0, a.kq)("", !0), l.show_view.product_description ? ((0, a.wg)(), (0, a.j4)(u, { key: 2, class: "mt-1", current_item: l.current_item, base_url: l.base_url, onChangeView: e[3] || (e[3] = t => o.switchView(t)) }, null, 8, ["current_item", "base_url"])) : (0, a.kq)("", !0), l.show_view.taking_form ? ((0, a.wg)(), (0, a.j4)(p, { key: 3, current_item: l.current_item, base_url: l.base_url, report: l.report, onChangeView: e[4] || (e[4] = t => o.switchView(t)) }, null, 8, ["current_item", "base_url", "report"])) : (0, a.kq)("", !0), l.show_view.report_info ? ((0, a.wg)(), (0, a.j4)(g, { key: 4, report: l.report, team: l.team, user: l.user, taking: l.taking, base_url: l.base_url, server_status: l.server_status, onRemoveItem: e[5] || (e[5] = t => o.deteleItemReport(t)), onSendReport: e[6] || (e[6] = t => o.saveReport(t)) }, null, 8, ["report", "team", "user", "taking", "base_url", "server_status"])) : (0, a.kq)("", !0), !l.have_team || l.show_view.group_form ? ((0, a.wg)(), (0, a.j4)(m, { key: 5, team: l.team, user: l.user, onUpdateGroup: e[7] || (e[7] = t => o.updateTeam(t)) }, null, 8, ["team", "user"])) : (0, a.kq)("", !0)])])]) } s(6929); var o = s(7139); const c = { class: "row" }, d = { class: "text-center" }, _ = { key: 0, class: "spinner-border", style: { width: "13rem", height: "13rem" }, role: "status" }, u = (0, a._)("span", { class: "visually-hidden" }, "Cargando...", -1), p = [u], g = (0, a._)("div", { class: "row" }, [(0, a._)("div", { class: "col text-center blink" }, [(0, a._)("strong", { class: "h2 text-primary" }, "CARGANDO APLICACIÓN...")])], -1), m = { class: "row" }, h = { class: "col text-center" }, b = ["src"], f = { class: "row text-center" }, w = ["textContent"], v = (0, a._)("div", { class: "row text-center" }, [(0, a._)("a", { class: "btn btn-primary btn-block", href: "/mobile/dashboard/" }, [(0, a._)("i", { class: "fas fa-home" }), (0, a.Uk)(" Recargar Aplicación ")])], -1); function k(t, e, s, r, n, i) { return (0, a.wg)(), (0, a.iD)("div", null, [(0, a._)("div", c, [(0, a._)("div", d, [s.server_status.response ? (0, a.kq)("", !0) : ((0, a.wg)(), (0, a.iD)("div", _, p))])]), g, (0, a._)("div", m, [(0, a._)("div", h, [(0, a._)("img", { style: { width: "80px" }, src: "error" === s.server_status.issue_type ? s.server_status.img_error : s.server_status.img_ok, alt: "status", class: "img-fluid" }, null, 8, b)])]), (0, a._)("div", f, [(0, a._)("strong", { class: (0, o.C_)(["h5", "error" === s.server_status.issue_type ? "text-danger" : "text-success"]), textContent: (0, o.zw)(s.server_status.message) }, null, 10, w)]), v]) } var x = { name: "Loader", emits: ["changeview"], props: { server_status: { type: Object, default: null, required: !0 } }, methods: { changeView() { this.$emit("changeView", "search_form") } }, beforeUnmount() { this.changeView() } }, y = s(89); const C = (0, y.Z)(x, [["render", k]]); var O = C; const U = { class: "navBar" }, A = { class: "card card-outline card-primary" }, D = { class: "card-header" }, q = { class: "row" }, R = { class: "col-8" }, V = (0, a._)("i", { class: "fas fa-search text-primary" }, null, -1), z = [V], I = (0, a._)("i", { class: "fas fa-table text-primary" }, null, -1), T = (0, a._)("span", { class: "visually-hidden" }, "unread messages", -1), j = { class: "badge rounded-pill bg-danger" }, N = (0, a._)("i", { class: "fas fa-users text-primary" }, null, -1), P = [N], S = { class: "col-4 text-end" }, E = (0, a._)("i", { class: "fas fa-info-circle text-primary" }, null, -1), L = { key: 0 }, B = { class: "row bordered" }, G = { class: "col" }, M = { class: "row" }, H = (0, a._)("div", { class: "col-3 text-end border" }, [(0, a._)("strong", { class: "text-secondary" }, "Toma: ")], -1), F = { class: "col border" }, Z = { class: "row" }, X = (0, a._)("div", { class: "col-3 text-end border" }, [(0, a._)("strong", { class: "text-secondary" }, "Grupo: ")], -1), $ = { class: "col border" }, K = { class: "row" }, W = (0, a._)("div", { class: "col-3 text-end border" }, [(0, a._)("strong", { class: "text-secondary" }, "Nombre: ")], -1), J = { class: "col border" }, Y = ["textContent"], Q = { class: "row" }, tt = (0, a._)("div", { class: "col-3 text-end border" }, [(0, a._)("strong", { class: "text-secondary" }, "Fecha: ")], -1), et = { class: "col border" }, st = ["textContent"], rt = { class: "row" }, at = (0, a._)("div", { class: "col-3 text-end border" }, [(0, a._)("strong", { class: "text-secondary" }, "Asistente: ")], -1), nt = { class: "col border" }, it = { class: "row" }, lt = (0, a._)("div", { class: "col-3 text-end border" }, [(0, a._)("strong", { class: "text-secondary" }, "Auxiliar: ")], -1), ot = { class: "col border" }, ct = { class: "row" }, dt = (0, a._)("div", { class: "col-3 text-end border" }, [(0, a._)("strong", { class: "text-secondary" }, "Token: ")], -1), _t = { class: "col text-break border" }, ut = ["textContent"], pt = { class: "row" }, gt = (0, a._)("i", { class: "fas fa-info-circle" }, null, -1); function mt(t, e, s, r, n, i) { return (0, a.wg)(), (0, a.iD)("div", U, [(0, a._)("div", A, [(0, a._)("div", D, [(0, a._)("div", q, [(0, a._)("div", R, [(0, a._)("button", { class: "btn btn", onClick: e[0] || (e[0] = t => i.changeView("search_form")) }, z), (0, a.Uk)("   "), (0, a._)("button", { class: "btn btn", onClick: e[1] || (e[1] = t => i.changeView("report_info")) }, [I, T, (0, a._)("small", j, (0, o.zw)(s.report.length), 1)]), (0, a.Uk)("   "), (0, a._)("button", { class: "btn btn", onClick: e[2] || (e[2] = t => i.changeView("group_form")) }, P)]), (0, a._)("div", S, [(0, a._)("button", { class: "btn btn-sm bordered fw-bold", onClick: e[3] || (e[3] = (...t) => i.showDetails && i.showDetails(...t)) }, [E, (0, a.Uk)(" Toma: " + (0, o.zw)(s.taking.pk), 1)])])])])]), n.show_details ? ((0, a.wg)(), (0, a.iD)("div", L, [(0, a._)("div", B, [(0, a._)("div", G, [(0, a._)("div", M, [H, (0, a._)("div", F, (0, o.zw)(s.taking.pk), 1)]), (0, a._)("div", Z, [X, (0, a._)("div", $, (0, o.zw)(s.team.fields.group_number), 1)]), (0, a._)("div", K, [W, (0, a._)("div", J, [(0, a._)("span", { class: "text-primary", textContent: (0, o.zw)(s.taking.fields.name) }, null, 8, Y)])]), (0, a._)("div", Q, [tt, (0, a._)("div", et, [(0, a._)("span", { textContent: (0, o.zw)(new Date(s.taking.fields.created).toLocaleString("es-EC")) }, null, 8, st)])]), (0, a._)("div", rt, [at, (0, a._)("div", nt, [(0, a._)("span", null, (0, o.zw)(s.user.fields.first_name) + " " + (0, o.zw)(s.user.fields.last_name), 1)])]), (0, a._)("div", it, [lt, (0, a._)("div", ot, [(0, a._)("span", null, (0, o.zw)(s.team.fields.warenhouse_assistant), 1)])]), (0, a._)("div", ct, [dt, (0, a._)("div", _t, [(0, a._)("span", { textContent: (0, o.zw)(s.team.fields.token_team) }, null, 8, ut)])])])]), (0, a._)("div", pt, [(0, a._)("button", { class: "btn btn-block btn-dark text-center", onClick: e[4] || (e[4] = (...t) => i.showDetails && i.showDetails(...t)) }, [gt, (0, a.Uk)(" Cerrar ")])])])) : (0, a.kq)("", !0)]) } var ht = { name: "NavBar", props: { taking: { type: Object, default: null, required: !0 }, team: { type: Object, default: null, required: !0 }, user: { type: Object, default: null, required: !0 }, report: { type: Array, default: null, required: !0 } }, data() { return { show_details: !1 } }, emits: ["changeView"], methods: { changeView(t) { this.$emit("changeView", t) }, showDetails() { this.show_details = !this.show_details } } }; const bt = (0, y.Z)(ht, [["render", mt]]); var ft = bt; const wt = { class: "card card-outline card-info" }, vt = { class: "card-header" }, kt = { id: "header" }, xt = { key: 1, class: "row mt-1" }, yt = { class: "col" }, Ct = { key: 2, class: "row mt-1" }, Ot = { class: "col" }, Ut = { class: "row" }, At = { class: "col" }, Dt = (0, a._)("small", null, "Resultados: ", -1), qt = ["textContent"], Rt = { key: 0, class: "text-secondary" }, Vt = ["textContent"], zt = { class: "row" }, It = { class: "col" }, Tt = ["onClick"], jt = ["textContent"]; function Nt(t, e, s, n, i, l) { const c = (0, a.up)("barcode-reader"); return (0, a.wg)(), (0, a.iD)("div", wt, [(0, a._)("div", vt, [(0, a._)("div", kt, [(0, a.kq)("", !0), i.show_barcode_reader ? ((0, a.wg)(), (0, a.iD)("div", xt, [(0, a._)("div", yt, [i.show_barcode_reader ? ((0, a.wg)(), (0, a.j4)(c, { key: 0, onEan_code: e[2] || (e[2] = t => l.selectByBarcode(t)) })) : (0, a.kq)("", !0)])])) : (0, a.kq)("", !0), i.show_text_search ? ((0, a.wg)(), (0, a.iD)("div", Ct, [(0, a._)("div", Ot, [(0, a.wy)((0, a._)("input", { type: "text", class: "form-control", "onUpdate:modelValue": e[3] || (e[3] = t => i.query_search = t), onKeyup: e[4] || (e[4] = (...t) => l.searchList && l.searchList(...t)) }, null, 544), [[r.nr, i.query_search]])])])) : (0, a.kq)("", !0), (0, a._)("div", Ut, [(0, a._)("div", At, [Dt, (0, a._)("small", { class: "text-primary", textContent: (0, o.zw)(i.query_search) }, null, 8, qt), i.filtered_products ? ((0, a.wg)(), (0, a.iD)("small", Rt, [(0, a._)("small", { textContent: (0, o.zw)(i.filtered_products.length) }, null, 8, Vt), (0, a.Uk)(" registros encontrados de " + (0, o.zw)(s.products.length), 1)])) : (0, a.kq)("", !0)])]), (0, a._)("div", zt, [(0, a._)("div", It, [((0, a.wg)(!0), (0, a.iD)(a.HY, null, (0, a.Ko)(i.filtered_products, ((t, e) => ((0, a.wg)(), (0, a.iD)("ul", { class: "list-group", key: e }, [(0, a._)("li", { class: "list-group-item bg-gradient-light", onClick: e => l.selectProduct(t) }, [(0, a._)("small", { class: "text-secondary", textContent: (0, o.zw)(t.fields.name) }, null, 8, jt)], 8, Tt)])))), 128))])])])])]) } const Pt = { class: "row" }, St = (0, a._)("div", { class: "col mt-1" }, [(0, a._)("video", { id: "video", class: "img-fluid" })], -1), Et = [St]; function Lt(t, e, s, r, n, i) { return (0, a.wg)(), (0, a.iD)("div", Pt, Et) } var Bt = s(928), Gt = s.n(Bt), Mt = { name: "BarcodeReader", emits: ["ean_code"], mounted() { const t = this, e = document.querySelector("#video"); Gt().init({ inputStream: { name: "Live", type: "LiveStream", target: e }, decoder: { readers: ["ean_reader"] } }, (function (t) { t ? console.error("Error al inicializar Quagga:", t) : (Gt().start(), navigator.mediaDevices.getUserMedia({ video: !0 }).then((function (t) { e.srcObject = t, e.play() })).catch((function (t) { alert("Error al acceder a la cámara: " + t) }))) })), Gt().onDetected((function (e) { console.log(e.codeResult.code), t.ean_code(e.codeResult.code), Gt().stop() })), Gt().onProcessed((function (t) { const e = Gt().canvas.ctx.overlay, s = Gt().canvas.dom.overlay; t && (t.boxes && (e.clearRect(0, 0, parseInt(s.getAttribute("width")), parseInt(s.getAttribute("height"))), t.boxes.filter((function (e) { return e !== t.box })).forEach((function (t) { Gt().ImageDebug.drawPath(t, { x: 0, y: 1 }, e, { color: "green", lineWidth: 2 }) }))), t.box && Gt().ImageDebug.drawPath(t.box, { x: 0, y: 1 }, e, { color: "#00F", lineWidth: 2 }), t.codeResult && t.codeResult.code && Gt().ImageDebug.drawPath(t.line, { x: "x", y: "y" }, e, { color: "red", lineWidth: 3 })) })) }, methods: { ean_code(t) { Gt().stop(), this.$emit("ean_code", t) }, stop() { Gt().stop() } }, beforeUnmount() { Gt().stop() } }; const Ht = (0, y.Z)(Mt, [["render", Lt]]); var Ft = Ht, Zt = { name: "SearchForm", props: ["products"], emits: ["selectProduct"], data() { return { query_search: "", filtered_products: [], show_text_search: !0, show_barcode_reader: !1 } }, methods: { searchList() { if (this.query_search.length < 3) return !1; const t = this; let e = this.query_search.toUpperCase().split(" "), s = this.products.filter((function (t) { let s = !0; for (let r = 0; r < e.length; r++)t.fields.name.search(e[r]) < 0 && (s = !1); return s })).slice(0, 20), r = this.products.filter((function (e) { return null !== e.fields.ean_13_code && e.fields.ean_13_code.includes(t.query_search) })).slice(0, 20); this.filtered_products = s.concat(r) }, selectProduct(t) { this.$emit("selectProduct", t), this.show_barcode_reader = !1 }, selectByBarcode(t) { this.query_search = t, this.show_barcode_reader = !1, this.show_text_search = !0, this.searchList() } }, components: { BarcodeReader: Ft } }; const Xt = (0, y.Z)(Zt, [["render", Nt]]); var $t = Xt; const Kt = { class: "card" }, Wt = { class: "card-header" }, Jt = { class: "row" }, Yt = { class: "col text-center" }, Qt = { class: "text-secondary h6" }, te = (0, a._)("br", null, null, -1), ee = { class: "text-primary" }, se = { class: "card-body" }, re = { class: "row" }, ae = { class: "d-grid gap-2" }, ne = (0, a._)("i", { class: "fas fa-clipboard-check" }, null, -1), ie = (0, a._)("br", null, null, -1), le = { id: "detail" }, oe = { class: "row" }, ce = { class: "col text-center" }, de = { class: "col" }, _e = ["src"], ue = { key: 0, class: "row h5" }, pe = { class: "col text-center" }, ge = { class: "col text-center" }, me = { class: "row" }, he = { class: "col" }, be = { class: "table table-bordered table-compact" }, fe = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "Nombre:", -1), we = ["textContent"], ve = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "Cod Contable:", -1), ke = ["textContent"], xe = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "Capacidad:", -1), ye = ["textContent"], Ce = ["textContent"], Oe = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "EAN 13:", -1), Ue = ["textContent"], Ae = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "EAN 14:", -1), De = ["textContent"], qe = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "Tipo:", -1), Re = ["textContent"], Ve = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "UND Venta:", -1), ze = ["textContent"], Ie = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "Grado Alc.:", -1), Te = ["textContent"], je = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "Dim Caja:", -1), Ne = ["textContent"], Pe = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "Dim Product:", -1), Se = ["textContent"], Ee = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "COD ICE:", -1), Le = ["textContent"], Be = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "Cantidad Caja:", -1), Ge = ["textContent"], Me = (0, a._)("th", { class: "bg-light bg-gradient text-end" }, "Registro Sanitario:", -1), He = ["textContent"], Fe = { class: "row" }, Ze = { class: "d-grid gap-2" }, Xe = (0, a._)("i", { class: "fas fa-clipboard-check" }, null, -1), $e = (0, a._)("br", null, null, -1); function Ke(t, e, s, r, n, i) { return (0, a.wg)(), (0, a.iD)("div", Kt, [(0, a._)("div", Wt, [(0, a._)("div", Jt, [(0, a._)("div", Yt, [(0, a._)("strong", Qt, (0, o.zw)(s.current_item.fields.name), 1), te, (0, a._)("span", ee, (0, o.zw)(s.current_item.fields.ean_13_code), 1)])]), (0, a._)("div", se, [(0, a._)("div", re, [(0, a._)("div", ae, [(0, a._)("button", { class: "btn btn-success btn-block", onClick: e[0] || (e[0] = t => i.changeView("taking_form")) }, [ne, (0, a.Uk)(" Ingresar Toma ")]), ie])]), (0, a._)("div", le, [(0, a._)("div", oe, [(0, a._)("div", ce, [(0, a._)("div", de, [(0, a._)("img", { src: n.default_picture, class: "img-fluid img-thumbnail" }, null, 8, _e)])])]), n.show_product ? ((0, a.wg)(), (0, a.iD)("div", ue, [(0, a._)("div", pe, [(0, a._)("span", { class: (0, o.C_)(["badge", n.class_bagded_front]), onClick: e[1] || (e[1] = t => i.switchImage("front")) }, " Fontal ", 2)]), (0, a._)("div", ge, [(0, a._)("span", { class: (0, o.C_)(["badge", n.class_bagded_back]), onClick: e[2] || (e[2] = t => i.switchImage("back")) }, " Posterior ", 2)])])) : (0, a.kq)("", !0), (0, a._)("div", me, [(0, a._)("div", he, [(0, a._)("table", be, [(0, a._)("tr", null, [fe, (0, a._)("td", { textContent: (0, o.zw)(s.current_item.fields.name) }, null, 8, we)]), (0, a._)("tr", null, [ve, (0, a._)("td", { textContent: (0, o.zw)(s.current_item.fields.account_code) }, null, 8, ke)]), (0, a._)("tr", null, [xe, (0, a._)("td", null, [(0, a._)("span", { textContent: (0, o.zw)(s.current_item.fields.capacity) }, null, 8, ye), (0, a.Uk)(), (0, a._)("span", { textContent: (0, o.zw)(s.current_item.fields.unit_measurement) }, null, 8, Ce)])]), (0, a._)("tr", null, [Oe, (0, a._)("td", { textContent: (0, o.zw)(s.current_item.fields.ean_13_code) }, null, 8, Ue)]), (0, a._)("tr", null, [Ae, (0, a._)("td", { textContent: (0, o.zw)(s.current_item.fields.ean_14_code) }, null, 8, De)]), (0, a._)("tr", null, [qe, (0, a._)("td", { textContent: (0, o.zw)(s.current_item.fields.type_product) }, null, 8, Re)]), (0, a._)("tr", null, [Ve, (0, a._)("td", { textContent: (0, o.zw)(s.current_item.fields.sale_unit_measurement) }, null, 8, ze)]), (0, a._)("tr", null, [Ie, (0, a._)("td", { textContent: (0, o.zw)(s.current_item.fields.alcoholic_strength) }, null, 8, Te)]), (0, a._)("tr", null, [je, (0, a._)("td", { textContent: (0, o.zw)(s.current_item.fields.box_dimensions) }, null, 8, Ne)]), (0, a._)("tr", null, [Pe, (0, a._)("td", { textContent: (0, o.zw)(s.current_item.fields.product_dimensions) }, null, 8, Se)]), (0, a._)("tr", null, [Ee, (0, a._)("td", { textContent: (0, o.zw)(s.current_item.fields.ice_code) }, null, 8, Le)]), (0, a._)("tr", null, [Be, (0, a._)("td", { textContent: (0, o.zw)(s.current_item.fields.quantity_per_box) }, null, 8, Ge)]), (0, a._)("tr", null, [Me, (0, a._)("td", { textContent: (0, o.zw)(s.current_item.fields.health_register) }, null, 8, He)])])])]), (0, a.kq)("", !0), (0, a._)("div", Fe, [(0, a._)("div", Ze, [(0, a._)("button", { class: "btn btn-success btn-block", onClick: e[4] || (e[4] = t => i.changeView("taking_form")) }, [Xe, (0, a.Uk)(" Ingresar Toma ")]), $e])])])])])]) } var We = { name: "ProductDescription", props: { current_item: { type: Object, default: () => { } }, base_url: { type: String, default: "" } }, emit: ["changeView"], data() { return { show_product: !1, default_picture: this.base_url + "/static/img/generic_product.png", class_bagded_front: "badge rounded-pill text-bg-primary", class_bagded_back: "badge rounded-pill text-bg-light" } }, methods: { switchImage(t) { "front" === t && this.current_item.fields.image_front ? (this.default_picture = "/media" + this.current_item.fields.image_front, this.class_bagded_front = "badge-primary", this.class_bagded_back = "badge-light") : "back" === t && this.current_item.fields.image_back ? (this.default_picture = "/media" + this.current_item.fields.image_back, this.class_bagded_back = "badge-primary", this.class_bagded_front = "badge-light") : this.default_picture = "/static/img/generic_product.png" }, changeView(t) { this.$emit("changeView", t) } }, mounted() { this.current_item.fields.image_front && (this.default_picture = "/media" + this.current_item.fields.image_front) } }; const Je = (0, y.Z)(We, [["render", Ke]]); var Ye = Je; const Qe = { class: "card card-outline card-primary" }, ts = { class: "card-header" }, es = { key: 0 }, ss = { class: "row" }, rs = { class: "col text-center" }, as = (0, a._)("i", { class: "fas fa-table" }, null, -1), ns = { class: "h6" }, is = (0, a._)("br", null, null, -1), ls = { class: "text-info" }, os = (0, a._)("br", null, null, -1), cs = ["textContent"], ds = (0, a._)("br", null, null, -1), _s = (0, a._)("i", { class: "fas fa-file-excel" }, null, -1), us = { class: "row mt-1" }, ps = { class: "col" }, gs = { class: "mi_table table table-striped", style: { width: "100%" } }, ms = (0, a._)("thead", null, [(0, a._)("tr", { class: "bg-secondary" }, [(0, a._)("th", { class: "text-center" }, "#"), (0, a._)("th", { class: "text-center" }, "Producto"), (0, a._)("th", { class: "text-center" }, "Cajas"), (0, a._)("th", { class: "text-center" }, "Unds")])], -1), hs = ["onClick"], bs = { class: "text-center" }, fs = { class: "" }, ws = { key: 0, class: "fas fa-exclamation-triangle text-warning" }, vs = { class: "text-end" }, ks = { class: "text-end" }, xs = { class: "bg-secondary" }, ys = (0, a._)("td", { class: "text-end", colspan: "2" }, [(0, a._)("strong", null, "TOTALES")], -1), Cs = { class: "text-end" }, Os = ["textContent"], Us = { class: "text-end" }, As = ["textContent"], Ds = { class: "row mt-3" }, qs = ["disabled"], Rs = (0, a._)("i", { class: "fas fa-sync" }, null, -1), Vs = ["textContent"], zs = { key: 1, class: "text-center" }, Is = (0, a._)("strong", { class: "text-info H2" }, "SIN DATOS", -1), Ts = [Is], js = { key: 2, class: "bg-white" }, Ns = { class: "card", style: { width: "100%" } }, Ps = { class: "row" }, Ss = { class: "col text-center" }, Es = ["src"], Ls = { class: "card-body" }, Bs = { class: "card-title text-center text-primary" }, Gs = { class: "card-text text-secondary" }, Ms = ["textContent"], Hs = { key: 1, class: "text-secondary" }, Fs = { class: "list-group list-group-flush fs-5 text" }, Zs = { class: "list-group-item" }, Xs = { class: "row" }, $s = (0, a._)("div", { class: "col-5 text-end" }, [(0, a._)("span", { class: "text-secondary" }, "Cajas:")], -1), Ks = { class: "col text-end" }, Ws = { class: "list-group-item" }, Js = { class: "row" }, Ys = (0, a._)("div", { class: "col-5 text-end" }, [(0, a._)("span", { class: "text-secondary" }, "Unidades:")], -1), Qs = { class: "col text-end" }, tr = { class: "list-group-item" }, er = { class: "row" }, sr = (0, a._)("div", { class: "col-5 text-end" }, [(0, a._)("span", { class: "text-secondary" }, "Añada:")], -1), rr = { class: "col text-end" }, ar = { class: "list-group-item" }, nr = { class: "row" }, ir = (0, a._)("div", { class: "col-5 text-end" }, [(0, a._)("span", { class: "text-secondary" }, "Caducidad:")], -1), lr = { class: "col text-end" }, or = { key: 0 }, cr = { class: "card-body" }, dr = { class: "row" }, _r = { class: "col text-center" }, ur = (0, a._)("i", { class: "fas fa-times" }, null, -1), pr = { class: "col text-center" }, gr = (0, a._)("i", { class: "fas fa-eraser" }, null, -1); function mr(t, e, s, r, n, i) { return (0, a.wg)(), (0, a.iD)("div", Qe, [(0, a._)("div", ts, [s.report.length && n.show_report ? ((0, a.wg)(), (0, a.iD)("div", es, [(0, a._)("div", ss, [(0, a._)("div", rs, [as, (0, a._)("strong", ns, [(0, a.Uk)((0, o.zw)(s.taking.fields.name) + " ", 1), is, (0, a.Uk)(" Reporte Toma "), (0, a._)("small", ls, "[" + (0, o.zw)(s.report.length) + "] items", 1)]), os, (0, a._)("span", { textContent: (0, o.zw)(new Date(s.taking.fields.created).toLocaleString("es-EC")) }, null, 8, cs), ds, (0, a._)("button", { onClick: e[0] || (e[0] = (...t) => i.downloadReport && i.downloadReport(...t)), class: "btn btn-primary btn-sm" }, [_s, (0, a.Uk)(" Descargar ")])])]), (0, a._)("div", us, [(0, a._)("div", ps, [(0, a._)("table", gs, [ms, (0, a._)("tbody", null, [((0, a.wg)(!0), (0, a.iD)(a.HY, null, (0, a.Ko)(s.report, ((t, e) => ((0, a.wg)(), (0, a.iD)("tr", { key: t.pk, onClick: e => i.showTaking(t) }, [(0, a._)("td", bs, (0, o.zw)(e + 1), 1), (0, a._)("td", fs, [t.notes ? ((0, a.wg)(), (0, a.iD)("i", ws)) : (0, a.kq)("", !0), (0, a.Uk)(" " + (0, o.zw)(t.product.fields.name), 1)]), (0, a._)("td", vs, (0, o.zw)(t.taking_total_boxes), 1), (0, a._)("td", ks, (0, o.zw)(t.taking_total_bottles), 1)], 8, hs)))), 128)), (0, a._)("tr", xs, [ys, (0, a._)("td", Cs, [(0, a._)("strong", { textContent: (0, o.zw)(i.total_boxes) }, null, 8, Os)]), (0, a._)("td", Us, [(0, a._)("strong", { textContent: (0, o.zw)(i.total_bottles) }, null, 8, As)])])])])])]), (0, a._)("div", Ds, [(0, a._)("button", { class: (0, o.C_)(["btn btn-block", n.class_sync_btn]), onClick: e[1] || (e[1] = t => i.sendReport()), disabled: t.disable_button_send }, [Rs, (0, a.Uk)(" " + (0, o.zw)(n.message_button) + " ", 1), (0, a._)("small", null, [(0, a.Uk)(" ["), (0, a._)("span", { textContent: (0, o.zw)(s.report.length) }, null, 8, Vs), (0, a.Uk)(" items] ")])], 10, qs)])])) : (0, a.kq)("", !0), s.report.length ? (0, a.kq)("", !0) : ((0, a.wg)(), (0, a.iD)("div", zs, Ts)), n.show_taking ? ((0, a.wg)(), (0, a.iD)("div", js, [(0, a._)("div", Ns, [(0, a._)("div", Ps, [(0, a._)("div", Ss, [(0, a._)("img", { src: n.selected_taking.product.fields.image_front ? n.selected_taking.product.fields.image_front : n.default_picture, class: "card-img-top img-thumbnail", alt: "Imagen Producto", style: { width: "12em", height: "auto" } }, null, 8, Es)])]), (0, a._)("div", Ls, [(0, a._)("h5", Bs, (0, o.zw)(n.selected_taking.product.fields.name), 1), (0, a._)("p", Gs, [n.selected_taking.notes ? ((0, a.wg)(), (0, a.iD)("span", { key: 0, textContent: (0, o.zw)(n.selected_taking.notes) }, null, 8, Ms)) : ((0, a.wg)(), (0, a.iD)("span", Hs, "Sin Novedad"))])]), (0, a._)("ul", Fs, [(0, a._)("li", Zs, [(0, a._)("div", Xs, [$s, (0, a._)("div", Ks, [(0, a._)("strong", null, (0, o.zw)(n.selected_taking.taking_total_boxes), 1)])])]), (0, a._)("li", Ws, [(0, a._)("div", Js, [Ys, (0, a._)("div", Qs, [(0, a._)("strong", null, (0, o.zw)(n.selected_taking.taking_total_bottles), 1)])])]), (0, a._)("li", tr, [(0, a._)("div", er, [sr, (0, a._)("div", rr, [(0, a._)("strong", null, (0, o.zw)(n.selected_taking.year), 1)])])]), (0, a._)("li", ar, [(0, a._)("div", nr, [ir, (0, a._)("div", lr, [n.selected_taking.date_expiry ? ((0, a.wg)(), (0, a.iD)("strong", or, (0, o.zw)(new Date(n.selected_taking.date_expiry).toLocaleString("es-EC").substring(0, 10)), 1)) : (0, a.kq)("", !0)])])])]), (0, a._)("div", cr, [(0, a._)("div", dr, [(0, a._)("div", _r, [(0, a._)("button", { class: "btn btn-secondary", onClick: e[2] || (e[2] = (...t) => i.showReport && i.showReport(...t)) }, [ur, (0, a.Uk)(" Cerrar ")])]), (0, a._)("div", pr, [(0, a._)("button", { class: "btn btn-danger", onClick: e[3] || (e[3] = (...t) => i.removeItem && i.removeItem(...t)) }, [gr, (0, a.Uk)(" Eliminar ")])])])])])])) : (0, a.kq)("", !0)])]) } var hr = s(7092), br = { emits: ["sendReport"], name: "ReportTaking", props: { taking: { type: Object, default: null, required: !0 }, team: { type: Object, default: null, required: !0 }, user: { type: Object, default: null, required: !0 }, server_status: { type: Object, default: null, required: !0 }, report: { type: Array, default: null, required: !0 }, base_url: { type: String, default: null, required: !0 } }, data() { return { selected_taking: null, show_taking: !1, show_report: !0, confirm_report_send: !1, class_sync_btn: "btn-primary", message_button: "Sincronizar Datos", default_picture: this.base_url + "/static/img/generic_product.png" } }, methods: { showTaking(t) { this.selected_taking = t, this.show_report = !1, this.show_taking = !0 }, showReport() { this.show_report = !0, this.show_taking = !1 }, removeItem() { this.$emit("removeItem", this.selected_taking), this.showReport() }, sendReport() { if (this.confirm_report_send) return this.disable_button_send = !0, this.downloadReport(), this.$emit("sendReport"); this.confirm_report_send = !0, this.class_sync_btn = "btn-success", this.message_button = "Confirmar Reporte" }, downloadReport() { let t = this.report.map((t => ({ PK: t.pk, "ID Team": this.team.pk, token: this.team.fields.token_team, "Cuenta Contable": t.product.fields.account_code, Producto: t.product.fields.name, Cajas: t.taking_total_boxes, Unidades: t.taking_total_bottles, "Total UND": t.taking_total_boxes * t.product.fields.quantity_per_box + t.taking_total_bottles, "Añada": t.year, Caducidad: t.date_expiry, Novedad: t.notes }))); const e = hr.P6.book_new(), s = hr.P6.json_to_sheet(t); hr.P6.book_append_sheet(e, s, "Reporte"); let r = this.user.fields.username + "-" + this.taking.fields.name + "-" + this.taking.fields.created + "-.xlsx"; (0, hr.NC)(e, r) } }, computed: { total_boxes() { const t = 0, e = this.report.reduce(((t, e) => t + e.taking_total_boxes), t); return e }, total_bottles() { this.report; const t = 0, e = this.report.reduce(((t, e) => t + e.taking_total_bottles), t); return e } } }; const fr = (0, y.Z)(br, [["render", mr]]); var wr = fr; const vr = { class: "card card-outline card-success mt-1" }, kr = { class: "card-header" }, xr = { class: "row align-middle text-center" }, yr = { class: "col h6" }, Cr = (0, a._)("br", null, null, -1), Or = { class: "text-primary" }, Ur = (0, a._)("br", null, null, -1), Ar = { class: "text-primary" }, Dr = { class: "text-primary" }, qr = { class: "card-body" }, Rr = { class: "row mt-3" }, Vr = { class: "col-4 text-center" }, zr = ["src"], Ir = { class: "col" }, Tr = { class: "row" }, jr = (0, a._)("div", { class: "col-5 text-end" }, "Cajas:", -1), Nr = { class: "col" }, Pr = { class: "row mt-1" }, Sr = (0, a._)("div", { class: "col-5 text-end" }, "Unds:", -1), Er = { class: "col" }, Lr = { class: "row mt-1" }, Br = (0, a._)("div", { class: "col-5 text-end" }, "Añada:", -1), Gr = { class: "col" }, Mr = { class: "row mt-1" }, Hr = (0, a._)("div", { class: "col-5 text-end" }, "Caducidad:", -1), Fr = { class: "col" }, Zr = { class: "row mt-1" }, Xr = (0, a._)("div", { class: "col-3 text-end" }, "Notas:", -1), $r = { class: "col" }, Kr = { class: "card-footer mt-1 bg-ligth" }, Wr = { class: "row text-center" }, Jr = { class: "col-6" }, Yr = (0, a._)("i", { class: "fas fa-arrow-left" }, null, -1), Qr = { class: "col-6" }, ta = (0, a._)("i", { class: "fas fa-plus" }, null, -1); function ea(t, e, s, n, i, l) { return (0, a.wg)(), (0, a.iD)("div", vr, [(0, a._)("div", kr, [(0, a._)("div", xr, [(0, a._)("div", yr, [(0, a.Uk)((0, o.zw)(s.current_item.fields.name) + " ", 1), Cr, (0, a._)("small", Or, " CAPACIDAD: " + (0, o.zw)(s.current_item.fields.capacity) + " " + (0, o.zw)(s.current_item.fields.unit_measurement), 1), Ur, (0, a._)("small", Ar, [(0, a.Uk)("[" + (0, o.zw)(s.current_item.fields.quantity_per_box) + " x Caja]  |  ", 1), (0, a._)("span", Dr, (0, o.zw)(s.current_item.fields.ean_13_code), 1)])])])]), (0, a._)("div", qr, [(0, a._)("div", Rr, [(0, a._)("div", Vr, [(0, a._)("img", { src: s.current_item.fields.image_front ? s.current_item.fields.image_front : i.default_picture, class: "img-fluid img-thumbnail" }, null, 8, zr)]), (0, a._)("div", Ir, [(0, a._)("div", Tr, [jr, (0, a._)("div", Nr, [(0, a.wy)((0, a._)("input", { type: "number", class: "form-control taking-number text-end", autofocus: "", "onUpdate:modelValue": e[0] || (e[0] = t => i.current_taking.taking_total_boxes = t), onfocus: "this.value=''" }, null, 512), [[r.nr, i.current_taking.taking_total_boxes]])])]), (0, a._)("div", Pr, [Sr, (0, a._)("div", Er, [(0, a.wy)((0, a._)("input", { type: "number", class: "form-control taking-number text-end", "onUpdate:modelValue": e[1] || (e[1] = t => i.current_taking.taking_total_bottles = t), onfocus: "this.value=''" }, null, 512), [[r.nr, i.current_taking.taking_total_bottles]])])])])]), (0, a._)("div", Lr, [Br, (0, a._)("div", Gr, [(0, a.wy)((0, a._)("input", { type: "number", class: "form-control taking-number text-end", "onUpdate:modelValue": e[2] || (e[2] = t => i.current_taking.year = t) }, null, 512), [[r.nr, i.current_taking.year]])])]), (0, a._)("div", Mr, [Hr, (0, a._)("div", Fr, [(0, a.wy)((0, a._)("input", { type: "date", class: "form-control taking-number text-end", "onUpdate:modelValue": e[3] || (e[3] = t => i.current_taking.date_expiry = t) }, null, 512), [[r.nr, i.current_taking.date_expiry]])])]), (0, a._)("div", Zr, [Xr, (0, a._)("div", $r, [(0, a.wy)((0, a._)("textarea", { class: "form-control taking-text", "onUpdate:modelValue": e[4] || (e[4] = t => i.current_taking.notes = t) }, null, 512), [[r.nr, i.current_taking.notes]])])])]), (0, a._)("div", Kr, [(0, a._)("div", Wr, [(0, a._)("div", Jr, [(0, a._)("button", { class: "btn btn-block btn-outline-secondary", onClick: e[5] || (e[5] = (...t) => l.changeView && l.changeView(...t)) }, [Yr, (0, a.Uk)(" Regresar")])]), (0, a._)("div", Qr, [(0, a._)("button", { class: "btn btn-block btn-success", onClick: e[6] || (e[6] = (...t) => l.addReport && l.addReport(...t)) }, [ta, (0, a.Uk)(" Agregar")])])])])]) } s(7658); var sa = { name: "FormTaking", props: { current_item: { type: Object, default: () => { }, required: !0 }, base_url: { type: String, default: () => { }, required: !0 }, report: { type: Array, default: () => { }, required: !0 } }, emits: ["change-view"], data() { return { current_taking: { pk: null, product: null, taking_total_boxes: 0, taking_total_bottles: 0, date_expiry: null, year: null, notes: null }, show_product: !0, default_picture: this.base_url + "/static/img/generic_product.png", class_bagded_front: "badge-primary", class_bagded_back: "badge-light" } }, methods: { changeView() { this.$emit("changeView", "search_form") }, addReport() { "number" != typeof this.current_taking.taking_total_boxes && (this.current_taking.taking_total_boxes = 0), "number" != typeof this.current_taking.taking_total_bottles && (this.current_taking.taking_total_bottles = 0), this.current_taking.product = this.current_item, this.current_taking.pk = this.current_item.pk, this.report.push(this.current_taking), this.changeView() } }, mounted() { this.current_item.fields.image_front && (this.default_picture = this.base_url + "/media/" + this.current_item.fields.image_front) }, updated() { this.current_taking.taking_total_boxes <= 0 && (this.current_taking.taking_total_boxes = ""), this.current_taking.taking_total_bottles <= 0 && (this.current_taking.taking_total_bottles = ""), this.current_taking.year <= 0 && (this.current_taking.year = "") } }; const ra = (0, y.Z)(sa, [["render", ea]]); var aa = ra; const na = { class: "card card-outline card-secondary mt-1" }, ia = { class: "card-header" }, la = (0, a._)("div", { class: "row" }, [(0, a._)("div", { class: "col text-center" }, [(0, a._)("i", { class: "fas fa-users" }), (0, a._)("strong", null, " Información de Grupo ")])], -1), oa = { class: "row" }, ca = { class: "col" }, da = ["value"], _a = { class: "row" }, ua = { class: "col" }, pa = { class: "row" }, ga = { class: "col" }, ma = { class: "row mt-1" }, ha = (0, a._)("i", { class: "fas fa-users" }, null, -1); function ba(t, e, s, n, i, l) { return (0, a.wg)(), (0, a.iD)("div", na, [(0, a._)("div", ia, [la, (0, a._)("div", oa, [(0, a._)("div", ca, [(0, a.Uk)(" Manager: "), (0, a._)("input", { type: "text", class: "form-control", value: s.user.fields.first_name + " " + s.user.fields.last_name, readonly: "" }, null, 8, da)])]), (0, a._)("div", _a, [(0, a._)("div", ua, [(0, a.Uk)(" Asistente: "), (0, a.wy)((0, a._)("input", { type: "text", class: "form-control", "onUpdate:modelValue": e[0] || (e[0] = t => s.team.fields.warenhouse_assistant = t) }, null, 512), [[r.nr, s.team.fields.warenhouse_assistant]])])]), (0, a._)("div", pa, [(0, a._)("div", ga, [(0, a.Uk)(" Notas: "), (0, a.wy)((0, a._)("textarea", { cols: "30", rows: "2", class: "form-control", "onUpdate:modelValue": e[1] || (e[1] = t => s.team.fields.notes = t) }, null, 512), [[r.nr, s.team.fields.notes]])])]), (0, a._)("div", ma, [(0, a._)("button", { class: "btn btn-primary btn-block", onClick: e[2] || (e[2] = (...t) => l.updateGroup && l.updateGroup(...t)) }, [ha, (0, a.Uk)("Confirmar Grupo")])])])]) } var fa = { name: "FormGroup", emits: ["updateGroup"], props: { team: { type: Object, default: null, required: !0 }, user: { type: Object, default: null, required: !0 } }, methods: { updateGroup() { this.$emit("updateGroup", this.team) } } }; const wa = (0, y.Z)(fa, [["render", ba]]); var va = wa; const ka = { class: "card card-outline card-warning" }, xa = { class: "card-header" }, ya = { class: "row" }, Ca = { class: "col text-center" }, Oa = ["textContent"], Ua = { class: "row" }, Aa = { class: "col text-center" }, Da = ["src"], qa = { class: "row h5" }, Ra = { class: "col text-center" }, Va = { class: "col text-center" }, za = { class: "row" }, Ia = { class: "col" }, Ta = { class: "form-group" }, ja = (0, a._)("label", null, "Nombre", -1), Na = { class: "form-group" }, Pa = (0, a._)("label", null, "Typo Producto", -1), Sa = (0, a.uE)('<option value="ACCESORIO">ACCESORIO</option><option value="AGUA TONICA">AGUA TÓNICA</option><option value="ALIMENTO">ALIMENTO</option><option value="BAJATIVO">BAJATIVO</option><option value="BEBIDAS AZUCARADAS">BEBIDAS AZUCARADAS</option><option value="CHAMPAGNE">CHAMPAGNE</option><option value="MUEBLE">MUEBLE</option><option value="PISCO">PISCO</option><option value="RON">RON</option><option value="SANGRIA">SANGRIA</option><option value="VINO BLANCO">VINO BLANCO</option><option value="VINO ESPUMOSO">VINO ESPUMOSO</option><option value="VINO TINTO">VINO TINTO</option><option value="WHISKY">WHISKY</option><option value="OTRO">OTRO Bien</option>', 15), Ea = [Sa], La = { class: "form-group" }, Ba = (0, a._)("label", { for: "" }, "EAN 13", -1), Ga = ["disabled"], Ma = { class: "form-group" }, Ha = (0, a._)("label", { for: "" }, "EAN 14", -1), Fa = ["disabled"], Za = { class: "form-group" }, Xa = (0, a._)("label", null, "Capacidad", -1), $a = ["disabled"], Ka = { class: "form-group" }, Wa = (0, a._)("label", null, "Unidad Medida", -1), Ja = { class: "form-group" }, Ya = (0, a._)("label", null, "Dimensiones Producto CM", -1), Qa = { class: "form-group" }, tn = (0, a._)("label", null, "Dimensiones Caja Madre CM", -1), en = { class: "form-group" }, sn = (0, a._)("label", null, "Observaciones", -1), rn = (0, a._)("hr", null, null, -1), an = { class: "row" }, nn = (0, a._)("i", { class: "fas fa-box" }, null, -1); function ln(t, e, s, n, i, l) { return (0, a.wg)(), (0, a.iD)("div", ka, [(0, a._)("div", xa, [(0, a._)("div", ya, [(0, a._)("div", Ca, [(0, a._)("strong", { class: "text-warning", textContent: (0, o.zw)(s.current_item.fields.name) }, null, 8, Oa)])]), (0, a._)("div", Ua, [(0, a._)("div", Aa, [(0, a._)("img", { src: i.default_picture, class: "img-fluid img-thumbnail" }, null, 8, Da)])]), (0, a._)("div", qa, [(0, a._)("div", Ra, [(0, a._)("span", { class: (0, o.C_)(["badge", l.class_bagded_front]), onClick: e[0] || (e[0] = t => l.switchImage("front")) }, " Fontal ", 2)]), (0, a._)("div", Va, [(0, a._)("span", { class: (0, o.C_)(["badge", l.class_bagded_back]), onClick: e[1] || (e[1] = t => l.switchImage("back")) }, " Posterior ", 2)])]), (0, a._)("div", za, [(0, a._)("div", Ia, [(0, a._)("div", Ta, [ja, (0, a.wy)((0, a._)("input", { type: "text", class: "form-control", readonly: "", "onUpdate:modelValue": e[2] || (e[2] = t => s.current_item.fields.name = t) }, null, 512), [[r.nr, s.current_item.fields.name]])]), (0, a._)("div", Na, [Pa, (0, a.wy)((0, a._)("select", { class: "form-control", "onUpdate:modelValue": e[3] || (e[3] = t => s.current_item.fields.type_product = t) }, Ea, 512), [[r.bM, s.current_item.fields.type_product]])]), (0, a._)("div", La, [Ba, (0, a.wy)((0, a._)("input", { type: "text", class: "form-control", "onUpdate:modelValue": e[4] || (e[4] = t => s.current_item.fields.ean_13_code = t), disabled: "" == !s.current_item.fields.ean_13_code }, null, 8, Ga), [[r.nr, s.current_item.fields.ean_13_code]])]), (0, a._)("div", Ma, [Ha, (0, a.wy)((0, a._)("input", { type: "text", class: "form-control", "onUpdate:modelValue": e[5] || (e[5] = t => s.current_item.fields.ean_14_code = t), disabled: "" == !s.current_item.fields.ean_14_code }, null, 8, Fa), [[r.nr, s.current_item.fields.ean_14_code]])]), (0, a._)("div", Za, [Xa, (0, a.wy)((0, a._)("input", { type: "number", class: "form-control", "onUpdate:modelValue": e[6] || (e[6] = t => s.current_item.fields.capacity = t), disabled: 0 != s.current_item.fields.capacity }, null, 8, $a), [[r.nr, s.current_item.fields.capacity]])]), (0, a._)("div", Ka, [Wa, (0, a.wy)((0, a._)("input", { type: "text", class: "form-control", "onUpdate:modelValue": e[7] || (e[7] = t => s.current_item.fields.unit_measurement = t), disabled: "" }, null, 512), [[r.nr, s.current_item.fields.unit_measurement]])]), (0, a._)("div", Ja, [Ya, (0, a.wy)((0, a._)("input", { type: "text", class: "form-control", "onUpdate:modelValue": e[8] || (e[8] = t => s.current_item.fields.product_dimensions = t), placeholder: "largo X alto X ancho" }, null, 512), [[r.nr, s.current_item.fields.product_dimensions]])]), (0, a._)("div", Qa, [tn, (0, a.wy)((0, a._)("input", { type: "text", class: "form-control", "onUpdate:modelValue": e[9] || (e[9] = t => s.current_item.fields.box_dimensions = t), placeholder: "largo X alto X ancho" }, null, 512), [[r.nr, s.current_item.fields.box_dimensions]])]), (0, a._)("div", en, [sn, (0, a.wy)((0, a._)("textarea", { "onUpdate:modelValue": e[10] || (e[10] = t => s.current_item.fields.notes = t), class: "form-control" }, null, 512), [[r.nr, s.current_item.fields.notes]])]), rn])]), (0, a._)("div", an, [(0, a._)("button", { class: "btn btn-block btn-warning", onClick: e[11] || (e[11] = (...t) => l.updateProduct && l.updateProduct(...t)) }, [nn, (0, a.Uk)("    Actualizar")])])])]) } var on = { name: "FormProduct", emits: ["updateProduct"], props: { current_item: { type: Object, required: !0 } }, data() { return { default_picture: "/static/img/default_product.png", current_picture: "front", class_bagded_front: "badge-primary", class_bagded_back: "badge-light" } }, methods: { switchImage(t) { "front" === t && this.current_item.fields.image_front ? (this.default_picture = "/media/" + this.current_item.fields.image_front, this.class_bagded_front = "badge-primary", this.class_bagded_back = "badge-light") : "back" === t && this.current_item.fields.image_back ? (this.default_picture = "/media/" + this.current_item.fields.image_back, this.class_bagded_back = "badge-primary", this.class_bagded_front = "badge-light") : this.default_picture = "/static/img/generic_product.png" }, updateProduct() { this.$emit("updateProduct", this.current_item) } }, computed: { class_bagded_front() { return { "badge-warning": "front" == this.current_picture, "badge-secondary": "front" != this.current_picture } }, class_bagded_back() { return { "badge-warning": "back" == this.current_picture, "badge-secondary": "back" != this.current_picture } } }, mounted() { this.current_item.fields.image_front && (this.default_picture = "/media/" + this.current_item.fields.image_front) } }; const cn = (0, y.Z)(on, [["render", ln]]); var dn = cn; const _n = csrf_token, un = url_data,pn="";var gn={name:"App",components:{Loader:O,NavBar:ft,SearchForm:$t,ProductDescription:Ye,FormTaking:aa,ReportTaking:wr,FormGroup:va,FormProduct:dn},data(){return{team:null,products:null,user:null,taking:null,base_url:pn,url:un,server_status:{response:null,issue_type:"",img_ok:pn+"/static/img/ok.jpg",img_error:pn+"/static/img/error.jpg",message:""},current_item:null,report:[],csrf_token:_n,have_team:!0,report_update:!1,show_status_message:!0,show_view:{loader:!0,search_form:!1,product_form:!1,group_form:!1,taking_form:!1,report_info:!1,product_description:!1,status_message:!1},disable_button_send:!1}},methods:{getData(){const t=new XMLHttpRequest;t.open("GET",this.base_url+this.url),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.onload=()=>{if(200===t.status){const e=JSON.parse(t.responseText);this.taking=e.taking,this.team=e.team,this.products=e.products,this.user=e.user,this.show_view.loader=!1,this.server_status.issue_type="success",this.server_status.message="Completado correctamente",this.server_status.response=e,this.have_team=Boolean(this.team.fields.warenhouse_assistant)}},t.onerror=()=>{this.show_view.loader=!0,this.server_status.response=null,this.server_status.issue_type="error",this.server_status.message="Error al cargar los datos -> "+t.statusText},t.send()},saveReport(){this.show_view.loader=!0,this.server_status.response=null;const t=new XMLHttpRequest;t.open("POST",this.base_url+"/takings/add-report/"),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("X-CSRFToken",this.csrf_token),t.onload=()=>{this.show_view.report_info=!0,this.server_status.response=t.responseText,201===t.status?this.server_status.message=t.responseText:400===t.status?(this.server_status.message=t.responseText,this.server_status.issue_type="warning"):(this.server_status.response=null,this.server_status.issue_type="error",this.server_status.message="Error al cargar los datos -> "+t.responseText)},t.onerror=()=>{this.server_status.response=null,this.server_status.issue_type="error",this.server_status.message="Error al cargar los datos -> "+t.responseText},t.send(JSON.stringify({report:this.report,taking:this.taking,user:this.user,team:this.team}))},switchView(t){this.show_view={loader:!1,search_form:!1,product_form:!1,group_form:!1,taking_form:!1,report_info:!1,product_description:!1,status_message:!1,[t]:!0}},updateTeam(t){this.team=t,this.show_view.loader=!0,this.server_status.response=null;const e=new XMLHttpRequest;e.open("POST",this.base_url+"/accounts/update-team/"),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("X-CSRFToken",this.csrf_token),e.onload=()=>{this.show_view.loader=!1,200===e.status?(this.have_team=!0,this.server_status.issue_type="success",this.server_status.message="Completado correctamente",this.server_status.response=e.responseText,this.switchView("search_form")):(this.server_status.issue_type="error",this.server_status.message="Error al cargar los datos -> "+e.responseText,this.switchView("group_form"))},e.send(JSON.stringify({team:this.team}))},selectItem(t){this.current_item=t,this.switchView("product_description")},deteleItemReport(t){this.report=this.report.filter((e=>e!==t)),this.switchView("report_info")}},mounted(){this.getData(),window.addEventListener("beforeunload",(t=>(t.preventDefault(),t.returnValue="Esta seguro de salir?, la información se perderá")))}};const mn=(0,y.Z)(gn,[["render",l]]);var hn=mn;(0,r.ri)(hn).mount("#app")}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,r,a,n){if(!r){var i=1/0;for(d=0;d<t.length;d++){r=t[d][0],a=t[d][1],n=t[d][2];for(var l=!0,o=0;o<r.length;o++)(!1&n||i>=n)&&Object.keys(s.O).every((function(t){return s.O[t](r[o])}))?r.splice(o--,1):(l=!1,n<i&&(i=n));if(l){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[r,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,n,i=r[0],l=r[1],o=r[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(o)var d=o(s)}for(e&&e(r);c<i.length;c++)n=i[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},r=self["webpackChunktaking"]=self["webpackChunktaking"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(4086)}));r=s.O(r)})();
//# sourceMappingURL=app.fc6d3e2e.js.map
(function(){"use strict";var a={8538:function(a,t,e){var s=e(9242),i=e(3396),l=e(7139);const n={key:2,class:"container"},o={class:"row mt-1"},r={class:"col text-center"},c={class:"card bg-secondary-light"},d={class:"card-body",style:{"--bs-card-spacer-y":"0.01rem"}},u={class:"card-title"},_={class:"text-primary"};function m(a,t,e,s,m,h){const g=(0,i.up)("loader"),w=(0,i.up)("nav-bar"),p=(0,i.up)("wizard");return(0,i.wg)(),(0,i.iD)("div",null,[m.show_view.loader?((0,i.wg)(),(0,i.j4)(g,{key:0})):(0,i.kq)("",!0),m.show_view.loader?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(w,{key:1,taking_name:m.taking_name,location:m.location},null,8,["taking_name","location"])),m.show_view.loader?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",o,[(0,i._)("div",r,[(0,i._)("div",c,[(0,i._)("div",d,[(0,i._)("h5",u,[(0,i.Uk)("Saldos SAP al "),(0,i._)("span",_,(0,l.zw)(h.sap_migration_date),1)])])])])])])),m.show_view.loader?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(p,{key:3,class:"mt-3",migration_data:m.migration_data,onUpdateName:t[0]||(t[0]=a=>h.updateName(a)),onSendData:t[1]||(t[1]=a=>h.sendData(a))},null,8,["migration_data"]))])}e(5654);var h=e(9989),g=e(505);e(6929);const w={class:"bg-light"},p={class:"navbar navbar-expand-lg navbar-light"},v={class:"container-fluid"},b={class:"navbar-brand",href:"#"},f={class:"text-primary"},k=(0,i.uE)('<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarText"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a href="/" class="nav-link"><i class="fa-solid fa-home"></i> Inicio </a></li><li class="nav-item"><a href="/sap/" class="nav-link"><i class="fa-solid fa-server"></i> Saldos SAP </a></li><li class="nav-item"><a href="/takings/" class="nav-link"><i class="fa-solid fa-list-check"></i> Tomas </a></li><li>   </li></ul><ul class="navbar-nav ml-auto"><li class="nav-item border"><span class="nav-link"><span> Bodegas: </span><strong class="badge rounded-pill bg-light text-dark">12</strong></span></li>   <li class="nav-item border"><span class="nav-link"><span> Grupos: </span><strong class="badge rounded-pill bg-light text-dark">1</strong></span></li></ul><span class="nav-div">    </span><ul class="navbar-nav ml-auto"><li class="nav-item text-primary"><i class="fas fa-user text-secondary"></i>   Eduardo Villota   <span class="navbar-text">   <a href="/accounts/logout/"><i class="fas fa-power-off text-danger"></i></a></span></li></ul></div>',2);function y(a,t,e,s,n,o){return(0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("nav",p,[(0,i._)("div",v,[(0,i._)("a",b,[(0,i.Uk)("Asistente "),(0,i._)("small",f,(0,l.zw)(e.taking_name),1)]),k])])])}var x={name:"NavBar",emits:[],data(){return{name:"NavBar"}},props:{taking_name:{type:String,default:""}},methods:{}},D=e(89);const C=(0,D.Z)(x,[["render",y]]);var V=C;const S={class:"container text-center"},U={class:"row shadow-sm"},T={class:"nav nav-pills nav-fill"},N=(0,i._)("span",{class:"badge bg-secondary"},[(0,i._)("i",{class:"fa-solid fa-home"})],-1),O=(0,i._)("span",{class:"badge bg-secondary"},[(0,i._)("i",{class:"fa-solid fa-warehouse"})],-1),z=(0,i._)("span",{class:"badge bg-secondary"},[(0,i._)("i",{class:"fa-solid fa-users"})],-1),q=(0,i._)("span",{class:"badge bg-secondary"},[(0,i._)("i",{class:"fa-solid fa-list-check"})],-1),A=(0,i._)("span",{class:"badge bg-secondary"},[(0,i._)("i",{class:"fa-solid fa-chevron-down"})],-1),j={class:"row rounded border mt-2 shadow"},E=(0,i._)("p",null,null,-1);function I(a,t,e,s,n,o){const r=(0,i.up)("name-tab"),c=(0,i.up)("warenhouses-tab"),d=(0,i.up)("teams-tab"),u=(0,i.up)("item-selection-tab"),_=(0,i.up)("resume-tab");return(0,i.wg)(),(0,i.iD)("div",S,[(0,i._)("div",U,[(0,i._)("ul",T,[(0,i._)("li",{class:"nav-item",onClick:t[0]||(t[0]=a=>o.showView(1))},[(0,i._)("a",{class:(0,l.C_)(["nav-link",{active:n.show_views.step1}]),href:"#"},[N,(0,i.Uk)("   Nombre ")],2)]),(0,i._)("li",{class:"nav-item",onClick:t[1]||(t[1]=a=>o.showView(2))},[(0,i._)("a",{class:(0,l.C_)(["nav-link",{active:n.show_views.step2}]),href:"#"},[O,(0,i.Uk)("   Bodegas ")],2)]),(0,i._)("li",{class:"nav-item",onClick:t[2]||(t[2]=a=>o.showView(3))},[(0,i._)("a",{class:(0,l.C_)(["nav-link",{active:n.show_views.step3}]),href:"#"},[z,(0,i.Uk)("   Grupos ")],2)]),(0,i._)("li",{class:"nav-item",onClick:t[3]||(t[3]=a=>o.showView(4))},[(0,i._)("a",{class:(0,l.C_)(["nav-link",{active:n.show_views.step4}]),href:"#"},[q,(0,i.Uk)("   Items ")],2)]),(0,i._)("li",{class:"nav-item",onClick:t[4]||(t[4]=a=>o.showView(5))},[(0,i._)("a",{class:(0,l.C_)(["nav-link",{active:n.show_views.step5}]),href:"#"},[A,(0,i.Uk)(" Resumen ")],2)])])]),(0,i._)("div",j,[n.show_views.step1?((0,i.wg)(),(0,i.j4)(r,{key:0,migration_data:e.migration_data,taking_data:n.taking_data,onShowView:t[5]||(t[5]=a=>o.showView(a)),onUpdateName:t[6]||(t[6]=a=>o.updateName(a))},null,8,["migration_data","taking_data"])):(0,i.kq)("",!0),n.show_views.step2?((0,i.wg)(),(0,i.j4)(c,{key:1,migration_data:e.migration_data,taking_data:n.taking_data,onShowView:t[7]||(t[7]=a=>o.showView(a))},null,8,["migration_data","taking_data"])):(0,i.kq)("",!0),n.show_views.step3?((0,i.wg)(),(0,i.j4)(d,{key:2,teams:e.migration_data.all_users,taking_data:n.taking_data,onShowView:t[8]||(t[8]=a=>o.showView(a))},null,8,["teams","taking_data"])):(0,i.kq)("",!0),n.show_views.step4?((0,i.wg)(),(0,i.j4)(u,{key:3,taking_data:n.taking_data,onShowView:t[9]||(t[9]=a=>o.showView(a))},null,8,["taking_data"])):(0,i.kq)("",!0),n.show_views.step5?((0,i.wg)(),(0,i.j4)(_,{key:4,taking_data:n.taking_data,migration_data:e.migration_data,onShowView:t[10]||(t[10]=a=>o.showView(a)),onSendData:t[11]||(t[11]=a=>o.sendData(a))},null,8,["taking_data","migration_data"])):(0,i.kq)("",!0),E])])}const L={class:"row mt-3"},M=(0,i._)("h5",{class:"mt-2"},"NOMBRE Y UBICACIÓN",-1),Y={class:"col bg-light"},B={class:"row mt-1 mb-2"},H={class:"col text-end"},K=(0,i._)("i",{class:"fa-solid fa-chevron-right"},null,-1),Z={class:"row"},$=(0,i.uE)('<div class="col"><div class="card"><div class="card-body text-start"><h5 class="card-title text-info">Recomendación</h5><p class="card-text text-secondary"> Se recomienda el uso de nombre cortos, no importa si los nombres son los mismo en cada toma, el sistema asigna un código único a cada toma. <br> Por ejemplo: <ul class="list-group"><li class="list-group-item text-secondary p-1">Guarda Cuenca</li><li class="list-group-item text-secondary p-1">Vinesa 10 De Agosto</li><li class="list-group-item text-secondary p-1">Vinlitoral Parque California</li><li class="list-group-item text-secondary p-1">Guarda Xima</li><li class="list-group-item text-secondary p-1">Sermultimarc</li></ul></p></div></div></div>',1),G={class:"col"},W={class:"row mt-1"},P={class:"input-group mb-1"},R={class:"input-group mb-1"},F=(0,i._)("span",{class:"input-group-text"},"Nombre de Toma",-1),Q={class:"col"},X={class:"input-group mb-3"},J=(0,i._)("label",{class:"input-group-text",for:"inputGroupSelect01"},"Ubicación Toma  ",-1),aa=["value","selected"];function ta(a,t,e,n,o,r){return(0,i.wg)(),(0,i.iD)("div",L,[M,(0,i._)("div",Y,[(0,i._)("div",B,[(0,i._)("div",H,[(0,i._)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=a=>r.showView(2))},[(0,i.Uk)(" Siguiente "),K])])]),(0,i._)("div",Z,[$,(0,i._)("div",G,[(0,i._)("div",W,[(0,i._)("div",P,[(0,i._)("div",R,[F,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control form-control-sm",maxlength:"30","onUpdate:modelValue":t[1]||(t[1]=a=>o.taking_name=a),onBlur:t[2]||(t[2]=a=>r.updateName("name")),autofocus:""},null,544),[[s.nr,o.taking_name]])])]),(0,i._)("div",Q,[(0,i._)("div",X,[J,(0,i.wy)((0,i._)("select",{class:"form-select",id:"inputGroupSelect01","onUpdate:modelValue":t[3]||(t[3]=a=>o.location=a),onChange:t[4]||(t[4]=a=>r.updateName("location"))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.confData.locationsName,(a=>((0,i.wg)(),(0,i.iD)("option",{key:a.name,value:a.name,selected:a.selected},(0,l.zw)(a.name),9,aa)))),128))],544),[[s.bM,o.location]])])])])])])])])}const ea=id_sap_migration,sa="",ia=csrf_token,la=`${sa}/api/common/wizard-assistant/${ea}/`,na=[{name:"CUMBAYA",value:"CUMBAYA",selected:!1},{name:"CUENCA",value:"CUENCA",selected:!1},{name:"LOS CHILLOS",value:"LOS CHILLOS",selected:!1},{name:"MANTA",value:"MANTA",selected:!1},{name:"QUITO",value:"QUITO",selected:!1},{name:"GUAYAQUIL",value:"GUAYAQUIL",selected:!1}],oa={baseUrl:sa,urlData:la,locationsName:na,urlCreateTaking:`${sa}/takings/create/${ea}`,userData:{username:"Datos",id:2,firstName:"Eduardo",lastName:"Villota",email:"eduardouio7@gmail.com"},headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":ia}};var ra=oa,ca={name:"NameTab",emits:["updateName","showView"],props:{migration_data:{type:Object,required:!0},taking_data:{type:Object,required:!0}},data(){return{taking_name:"",location:"",locationsName:ra.locationsName,confData:ra}},methods:{updateName(){this.taking_name=this.taking_name?this.taking_name.toUpperCase():"",this.$emit("updateName",{takingName:this.taking_name,location:this.location})},showView(a){this.$emit("showView",a)}},mounted(){this.taking_name=this.taking_data.name,this.taking_data.location&&(this.location=this.taking_data.location,this.locationsName.forEach((a=>{a.name===this.location?a.selected=!0:a.selected=!1})))}};const da=(0,D.Z)(ca,[["render",ta]]);var ua=da;const _a={class:"row mt-2"},ma=(0,i._)("h5",{class:"mt-2"},"BODEGAS DISPONIBLES",-1),ha={class:"row mt-1 mb-2"},ga={class:"col text-start"},wa=(0,i._)("i",{class:"fa-solid fa-chevron-left"},null,-1),pa={class:"col text-end"},va=(0,i._)("i",{class:"fa-solid fa-chevron-right"},null,-1),ba={class:"col bg-light"},fa={class:"row"},ka={class:"col"},ya={class:"row"},xa={class:"col-8 mt-2"},Da={class:"input-group input-group-sm mb-3"},Ca=(0,i._)("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"Filtrar: ",-1),Va={class:"table table-bordered table-hover mi_table"},Sa=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"#"),(0,i._)("th",null,"Bodega"),(0,i._)("th",null,[(0,i._)("i",{class:"fas fa-cogs"})])])],-1),Ua=["onClick"],Ta={class:"text-start"},Na=(0,i._)("td",{class:"text-center"},[(0,i._)("i",{class:"fa-solid fa-plus text-success"})],-1),Oa={class:"col-4"},za={class:"card-body border-blue"},qa=(0,i._)("h6",{class:"card-title bg-secondary-light"},"Bodegas Seleccionadas",-1),Aa=["onClick"],ja=(0,i._)("i",{class:"fa-solid fa-minus text-danger"},null,-1),Ea=(0,i._)("br",null,null,-1),Ia={class:"card-body border-blue"},La=(0,i._)("h6",{class:"card-title bg-secondary-light"},"Propietarios",-1),Ma={class:"list-group-item p-1"};function Ya(a,t,e,n,o,r){return(0,i.wg)(),(0,i.iD)("div",_a,[ma,(0,i._)("div",ha,[(0,i._)("div",ga,[(0,i._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=a=>r.showView(1))},[wa,(0,i.Uk)(" Anterior ")])]),(0,i._)("div",pa,[(0,i._)("button",{class:"btn btn-success",onClick:t[1]||(t[1]=a=>r.showView(3))},[(0,i.Uk)(" Siguiente"),va])])]),(0,i._)("div",ba,[(0,i._)("div",fa,[(0,i._)("div",ka,[(0,i._)("div",ya,[(0,i._)("div",xa,[(0,i._)("div",Da,[Ca,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm","onUpdate:modelValue":t[2]||(t[2]=a=>o.filter_query=a),onKeyup:t[3]||(t[3]=(...a)=>r.filterWarenhouses&&r.filterWarenhouses(...a))},null,544),[[s.nr,o.filter_query]])]),(0,i._)("table",Va,[Sa,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.all_warenhouses.filter((a=>!a.selected)),((a,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:a,onClick:t=>r.updateWarenhouse(a)},[(0,i._)("td",null,(0,l.zw)(t+1),1),(0,i._)("td",Ta,(0,l.zw)(a.warenhouse),1),Na],8,Ua)))),128))])])]),(0,i._)("div",Oa,[(0,i._)("div",za,[qa,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.taking_data.warenhouses,(a=>((0,i.wg)(),(0,i.iD)("ul",{class:"list-group text-start",key:a},[(0,i._)("li",{class:"list-group-item p-1",onClick:t=>r.updateWarenhouse(a,!0)},[ja,(0,i.Uk)("   "+(0,l.zw)(a.warenhouse),1)],8,Aa)])))),128))]),Ea,(0,i._)("div",Ia,[La,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.warehouses_owner,(a=>((0,i.wg)(),(0,i.iD)("ul",{class:"list-group text-start",key:a},[(0,i._)("li",Ma,(0,l.zw)(a),1)])))),128))])])])])])])])}e(7658);var Ba={name:"WarenhousesTab",emits:["showView"],props:{migration_data:{type:Object,required:!0},taking_data:{type:Object,required:!0}},data(){return{all_warenhouses:[],owners:[],filter_query:"",warehouses_owner:[]}},mounted(){this.all_warenhouses=this.migration_data.warenhouses.map((a=>({warenhouse:a,selected:!1}))),this.updateOwners()},methods:{filterWarenhouses(){this.all_warenhouses=this.migration_data.warenhouses.map((a=>({warenhouse:a,selected:!1}))),this.all_warenhouses=this.all_warenhouses.filter((a=>!this.taking_data.warenhouses.some((t=>t.warenhouse===a.warenhouse)))),this.filter_query.length>3&&(this.all_warenhouses=this.all_warenhouses.filter((a=>a.warenhouse.toLowerCase().includes(this.filter_query.toLowerCase()))))},showView(a){this.$emit("showView",a)},updateWarenhouse(a,t=!1){if(t)return this.taking_data.warenhouses=this.taking_data.warenhouses.filter((t=>t.warenhouse!==a.warenhouse)),this.filterWarenhouses(),void this.updateOwners();a.selected=!0,this.taking_data.warenhouses.push(a),this.updateOwners()},updateOwners(){this.warehouses_owner=[];const a=this.migration_data.warenhouses_owners.map((a=>a));a.filter((a=>{this.taking_data.warenhouses.some((t=>{t.warenhouse===a.warenhouse_name&&this.warehouses_owner.push(a.owners.map((a=>a)))}))})),this.warehouses_owner=this.warehouses_owner.flat(),this.warehouses_owner=[...new Set(this.warehouses_owner)]}}};const Ha=(0,D.Z)(Ba,[["render",Ya]]);var Ka=Ha;const Za={class:"row mt-2"},$a=(0,i._)("h5",{class:"mt-2"},"ASISTENTES DE TOMA",-1),Ga={class:"row mt-1 mb-2"},Wa={class:"col text-start"},Pa=(0,i._)("i",{class:"fa-solid fa-chevron-left"},null,-1),Ra={class:"col text-end"},Fa=(0,i._)("i",{class:"fa-solid fa-chevron-right"},null,-1),Qa={class:"col bg-light"},Xa={class:"row"},Ja={class:"col-8 mt-2"},at={class:"table table-bordered table-hover table-condensed mi_table"},tt=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"#"),(0,i._)("th",null,"Nombre"),(0,i._)("th",null,"Username"),(0,i._)("th",null,[(0,i._)("i",{class:"fas fa-cogs"})])])],-1),et=["onClick"],st={class:"text-center"},it={class:"text-start"},lt={class:"text-start"},nt=(0,i._)("td",{class:"text-success"},[(0,i._)("i",{class:"fa-solid fa-plus"})],-1),ot={class:"col-4"},rt={class:"card-body bg-secondary-light border-blue"},ct=(0,i._)("h6",{class:"card-title"},"Usuarios Seleccionados",-1),dt=["onClick"],ut={class:"list-group-item p-1"},_t=(0,i._)("i",{class:"fa-solid fa-minus text-danger"},null,-1),mt={class:"badge bg-light text-secondary border"},ht=(0,i._)("br",null,null,-1);function gt(a,t,e,n,o,r){return(0,i.wg)(),(0,i.iD)("div",Za,[$a,(0,i._)("div",Ga,[(0,i._)("div",Wa,[(0,i._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=a=>r.showView(2))},[Pa,(0,i.Uk)(" Anterior ")])]),(0,i._)("div",Ra,[(0,i._)("button",{class:"btn btn-success",onClick:t[1]||(t[1]=a=>r.showView(4))},[(0,i.Uk)(" Siguiente"),Fa])])]),(0,i._)("div",Qa,[(0,i._)("div",Xa,[(0,i._)("div",Ja,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>o.query=a),class:"form-control",placeholder:"Buscar",onKeyup:t[3]||(t[3]=(...a)=>r.filterUsers&&r.filterUsers(...a))},null,544),[[s.nr,o.query]]),(0,i._)("table",at,[tt,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.all_teams,((a,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:a.id,onClick:t=>r.updateTeams(a)},[(0,i._)("td",st,(0,l.zw)(t+1),1),(0,i._)("td",it,(0,l.zw)(a.last_name)+" "+(0,l.zw)(a.first_name),1),(0,i._)("td",lt,(0,l.zw)(a.username),1),nt],8,et)))),128))])])]),(0,i._)("div",ot,[(0,i._)("div",rt,[ct,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.taking_data.groups,(a=>((0,i.wg)(),(0,i.iD)("ul",{class:"list-group text-start",key:a.username,onClick:t=>r.updateTeams(a,!0)},[(0,i._)("li",ut,[_t,(0,i.Uk)(" "+(0,l.zw)(a.last_name)+" "+(0,l.zw)(a.first_name)+" ",1),(0,i._)("small",mt,(0,l.zw)(a.username),1)])],8,dt)))),128))]),ht])])])])}var wt={name:"TeamsTab",emits:["showView"],props:{teams:{type:Object,required:!0},taking_data:{type:Object,required:!0}},data(){return{query:"",all_teams:[]}},methods:{filterUsers(){this.all_teams=this.teams.map((a=>a)),this.all_teams=this.all_teams.filter((a=>!this.taking_data.groups.some((t=>t.username==a.username)))),this.all_teams=this.all_teams.filter((a=>a.username.toLowerCase().includes(this.query.toLowerCase())||a.first_name.toLowerCase().includes(this.query.toLowerCase())||a.last_name.toLowerCase().includes(this.query.toLowerCase())))},showView(a){this.$emit("showView",a)},updateTeams(a,t=!1){t?this.taking_data.groups=this.taking_data.groups.filter((t=>t.username!=a.username)):this.taking_data.groups.push(a),this.filterUsers()}},mounted(){this.filterUsers()},computed(){}};const pt=(0,D.Z)(wt,[["render",gt]]);var vt=pt;const bt={class:"row mt-2"},ft=(0,i._)("h5",{class:"mt-2"},"PERSONALIZAR ITEMS TOMA",-1),kt={class:"row mt-1 mb-2"},yt={class:"col text-start"},xt=(0,i._)("i",{class:"fa-solid fa-chevron-left"},null,-1),Dt={class:"col text-end"},Ct=(0,i._)("i",{class:"fa-solid fa-chevron-right"},null,-1),Vt={class:"col bg-light"},St={class:"row"},Ut={class:"col-8"},Tt={class:"table table-bordered table-hover table-condesed mi_table"},Nt=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"#"),(0,i._)("th",null,"Tipo"),(0,i._)("th",null,[(0,i._)("i",{class:"fas fa-cogs"})])])],-1),Ot=["onClick"],zt={class:"text-start"},qt={class:"text-center"},At={class:"col-4"},jt={class:"card-body border-blue"},Et=(0,i._)("h6",{class:"card-title"},"Items Seleccionados",-1),It={class:"list-group-item p-1"},Lt=(0,i._)("i",{class:"fa-solid fa-minus text-danger"},null,-1),Mt=(0,i._)("br",null,null,-1);function Yt(a,t,e,s,n,o){return(0,i.wg)(),(0,i.iD)("div",bt,[ft,(0,i._)("div",kt,[(0,i._)("div",yt,[(0,i._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=a=>o.showView(3))},[xt,(0,i.Uk)(" Anterior ")])]),(0,i._)("div",Dt,[(0,i._)("button",{class:"btn btn-success",onClick:t[1]||(t[1]=a=>o.showView(5))},[(0,i.Uk)(" Siguiente"),Ct])])]),(0,i._)("div",Vt,[(0,i._)("div",St,[(0,i._)("div",Ut,[(0,i._)("table",Tt,[Nt,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.taking_data.categories,((a,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:a,onClick:t=>a.selected=!a.selected},[(0,i._)("td",null,(0,l.zw)(t+1),1),(0,i._)("td",zt,(0,l.zw)(a.category),1),(0,i._)("td",qt,[(0,i._)("span",{class:(0,l.C_)(a.selected?"text-danger":"text-success")},(0,l.zw)(a.selected?"Quitar":"Agregar"),3)])],8,Ot)))),128)),(0,i.kq)("",!0)])])]),(0,i._)("div",At,[(0,i._)("div",jt,[Et,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.selected_categories,(a=>((0,i.wg)(),(0,i.iD)("ul",{class:"list-group text-start",key:a},[(0,i._)("li",It,[Lt,(0,i.Uk)(" "+(0,l.zw)(a.category)+" ",1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.items,(a=>((0,i.wg)(),(0,i.iD)("ul",{key:a},[(0,i._)("li",null,(0,l.zw)(a),1)])))),128))])])))),128))]),Mt])])])])}var Bt={name:"ItemSelectionTab",emits:["showView"],props:{taking_data:{type:Object,required:!0}},data(){return{all_categories:[]}},methods:{showView(a){this.$emit("showView",a)},showView(a){this.$emit("showView",a)}},mounted(){},computed:{selected_categories(){return this.taking_data.categories.filter((a=>a.selected))}}};const Ht=(0,D.Z)(Bt,[["render",Yt]]);var Kt=Ht;const Zt={class:"row mt-1"},$t=(0,i._)("h5",{class:"mt-1"},"RESUMEN DE TOMA",-1),Gt={class:"row mt-1 mb-2"},Wt={class:"col text-start"},Pt=(0,i._)("i",{class:"fa-solid fa-chevron-left"},null,-1),Rt={class:"col text-end"},Ft=(0,i._)("i",{class:"fa-solid fa-chevron-right"},null,-1),Qt={key:0,class:"alert alert-danger p-1",role:"alert"},Xt=(0,i._)("h6",null,"Informacion incompleta, por favor verifíque todos los campos para continuar",-1),Jt=[Xt],ae={class:"col bg-light"},te={class:"row"},ee={class:"col"},se={class:"row mt-2"},ie=(0,i._)("div",{class:"col text-end"},[(0,i._)("strong",null,"Nombre Toma:")],-1),le={class:"col text-start"},ne={class:"list-group text-start"},oe={class:"list-group-item p-1"},re={class:"row mt-2"},ce=(0,i._)("div",{class:"col text-end"},[(0,i._)("strong",null,"Ubicación de Toma:")],-1),de={class:"col text-start"},ue={class:"list-group text-start"},_e={class:"list-group-item p-1"},me={class:"row mt-2"},he=(0,i._)("div",{class:"col text-end"},[(0,i._)("strong",null,"Bodegas Seleccionadas:")],-1),ge={class:"col"},we={class:"list-group-item p-1"},pe={class:"row mt-2"},ve=(0,i._)("div",{class:"col text-end"},[(0,i._)("strong",null,"Grupos Asignados:")],-1),be={class:"col"},fe={class:"list-group-item p-1"},ke={class:"bage bg-light border"},ye={class:"row mt-2"},xe=(0,i._)("div",{class:"col text-end"},[(0,i._)("strong",null,"Items a Contar:")],-1),De={class:"col"},Ce={class:"list-group-item p-1"};function Ve(a,t,e,s,n,o){return(0,i.wg)(),(0,i.iD)("div",Zt,[$t,(0,i._)("div",Gt,[(0,i._)("div",Wt,[(0,i._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=a=>o.showView(4))},[Pt,(0,i.Uk)(" Anterior ")])]),(0,i._)("div",Rt,[o.isValidData?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-success",onClick:t[1]||(t[1]=(...a)=>o.sendData&&o.sendData(...a))},[(0,i.Uk)(" Finalizar "),Ft])):(0,i.kq)("",!0)])]),o.isValidData?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Qt,Jt)),(0,i._)("div",ae,[(0,i._)("div",te,[(0,i._)("div",ee,[(0,i._)("div",se,[ie,(0,i._)("div",le,[(0,i._)("ul",ne,[(0,i._)("li",oe,(0,l.zw)(e.taking_data.name),1)])])]),(0,i._)("div",re,[ce,(0,i._)("div",de,[(0,i._)("ul",ue,[(0,i._)("li",_e,(0,l.zw)(e.taking_data.location),1)])])]),(0,i._)("div",me,[he,(0,i._)("div",ge,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.taking_data.warenhouses,(a=>((0,i.wg)(),(0,i.iD)("ul",{class:"list-group text-start",key:a},[(0,i._)("li",we,(0,l.zw)(a.warenhouse),1)])))),128))])]),(0,i._)("div",pe,[ve,(0,i._)("div",be,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.taking_data.groups,(a=>((0,i.wg)(),(0,i.iD)("ul",{class:"list-group text-start",key:a.username},[(0,i._)("li",fe,[(0,i._)("small",ke,(0,l.zw)(a.username),1),(0,i.Uk)("   "+(0,l.zw)(a.first_name)+" "+(0,l.zw)(a.last_name),1)])])))),128))])]),(0,i._)("div",ye,[xe,(0,i._)("div",De,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.taking_data.categories.filter((a=>a.selected)),(a=>((0,i.wg)(),(0,i.iD)("ul",{class:"list-group text-start",key:a.category},[(0,i._)("li",Ce,(0,l.zw)(a.category),1)])))),128))])])])])])])}var Se={name:"ResumeTab",emits:["showView","sendData"],props:{taking_data:{type:Object,required:!0}},methods:{showView(a){this.$emit("showView",a)},sendData(){this.$emit("sendData")}},computed:{isValidData(){return""!=this.taking_data.name&&this.taking_data.warenhouses.length>0&&this.taking_data.groups.length>0&&this.taking_data.categories.length>0&&this.taking_data.location}}};const Ue=(0,D.Z)(Se,[["render",Ve]]);var Te=Ue,Ne={components:{NameTab:ua,WarenhousesTab:Ka,TeamsTab:vt,ItemSelectionTab:Kt,ResumeTab:Te},name:"Wizard",emits:["updateName","sendData"],props:{migration_data:{type:Object,default:null}},data(){return{show_views:{step1:!0,step2:!1,step3:!1,step4:!1,step5:!1},taking_data:{id_sap_migration:null,name:"",location:"",warenhouses:[],groups:[],categories:[]}}},methods:{showView(a){this.show_views.step1=!1,this.show_views.step2=!1,this.show_views.step3=!1,this.show_views.step4=!1,this.show_views.step5=!1;let t="step"+a;this.show_views[t]=!0},updateName(a){this.taking_data.name=a.takingName,this.taking_data.location=a.location,this.$emit("updateName",{takingName:this.taking_data.name,location:this.taking_data.location})},sendData(){this.taking_data.categories=this.taking_data.categories.filter((a=>a.selected)),this.$emit("sendData",this.taking_data)}},mounted(){this.taking_data.id_sap_migration=this.migration_data.sap_migration.id_sap_migration;let a=this.migration_data.type_products.map((a=>a.type_product.split(";")[0]));a=[...new Set(a)],this.taking_data.categories=a.map((a=>{let t=this.migration_data.type_products.filter((t=>t.type_product.split(";")[0]==a));return t=t.map((a=>a.type_product.split(";")[1])),{category:a,items:t,selected:!1}}))}};const Oe=(0,D.Z)(Ne,[["render",I]]);var ze=Oe;const qe=a=>((0,i.dD)("data-v-384d3076"),a=a(),(0,i.Cn)(),a),Ae={class:"container mt-5"},je=qe((()=>(0,i._)("div",{class:"row"},[(0,i._)("div",{class:"col text-center"},[(0,i._)("div",{class:"spinner-border text-primary",style:{width:"20rem",height:"20rem"},role:"status"})])],-1))),Ee=qe((()=>(0,i._)("div",{class:"row mt-5"},[(0,i._)("div",{class:"col text-center"},[(0,i._)("h1",{class:"text-secondary text-blink"}," Cargando Datos... ")])],-1))),Ie=[je,Ee];function Le(a,t,e,s,l,n){return(0,i.wg)(),(0,i.iD)("div",Ae,Ie)}var Me={name:"Loader"};const Ye=(0,D.Z)(Me,[["render",Le],["__scopeId","data-v-384d3076"]]);var Be=Ye,He=e(4161),Ke=ra.baseUrl,Ze=ra["headers"]["X-CSRFToken"],$e={name:"App",components:{NavBar:V,Wizard:ze,Loader:Be},data(){return{show_view:{loader:!0},taking_name:"",location:"",migration_data:null,categories:[],all_users:[],confData:ra}},computed:{sap_migration_date(){if(this.migration_data){let a=new Date(this.migration_data.sap_migration.created);return(0,h.Z)(a,"dd MMMM yyyy hh:mm:ss",{locale:g.Z})}return""}},mounted(){this.LoadInitData()},methods:{LoadInitData(){const a=this.confData.headers;return He.Z.get(this.confData.urlData,{...a}).then((a=>{this.migration_data=a.data,this.show_view.loader=!1})).catch((a=>{alert("Error al obtener los datos del reporte"+a)}))},updateName(a){document.title=a.takingName,this.taking_name=a.takingName,this.location=a.location,ra.locationsName.forEach((t=>{t.name===a.location?t.selected=!0:t.selected=!1}))},updateWarenhousesList_uncall(a){console.log("warenhouse",a),this.migration_data.warenhouses.forEach((t=>{t.warenhouse===a&&(t.selected=!t.selected)}))},sendData(a){this.show_view.loader=!0,He.Z.post(ra["urlCreateTaking"],a,{headers:{"Content-Type":"application/json","X-CSRFToken":Ze}}).then((a=>{let t=a.data;window.location.href=Ke+"/takings/detail/"+t.id_taking,this.show_view.loader=!1})).catch((a=>{alert("Error al obtener los datos del reporte"+a)}))}}};const Ge=(0,D.Z)($e,[["render",m]]);var We=Ge;const Pe=(0,s.ri)(We);Pe.mount("#app")}},t={};function e(s){var i=t[s];if(void 0!==i)return i.exports;var l=t[s]={exports:{}};return a[s].call(l.exports,l,l.exports,e),l.exports}e.m=a,function(){var a=[];e.O=function(t,s,i,l){if(!s){var n=1/0;for(d=0;d<a.length;d++){s=a[d][0],i=a[d][1],l=a[d][2];for(var o=!0,r=0;r<s.length;r++)(!1&l||n>=l)&&Object.keys(e.O).every((function(a){return e.O[a](s[r])}))?s.splice(r--,1):(o=!1,l<n&&(n=l));if(o){a.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=a.length;d>0&&a[d-1][2]>l;d--)a[d]=a[d-1];a[d]=[s,i,l]}}(),function(){e.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return e.d(t,{a:t}),t}}(),function(){e.d=function(a,t){for(var s in t)e.o(t,s)&&!e.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:t[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){e.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){e.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={143:0};e.O.j=function(t){return 0===a[t]};var t=function(t,s){var i,l,n=s[0],o=s[1],r=s[2],c=0;if(n.some((function(t){return 0!==a[t]}))){for(i in o)e.o(o,i)&&(e.m[i]=o[i]);if(r)var d=r(e)}for(t&&t(s);c<n.length;c++)l=n[c],e.o(a,l)&&a[l]&&a[l][0](),a[l]=0;return e.O(d)},s=self["webpackChunkwizard"]=self["webpackChunkwizard"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(8538)}));s=e.O(s)})();
//# sourceMappingURL=app.29de0155.js.map
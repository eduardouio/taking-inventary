(function () { "use strict"; var a = { 6288: function (a, t, s) { var e = s(9242), i = s(3396), l = s(7139); const n = { key: 2, class: "container" }, o = { class: "row mt-1" }, r = { class: "col text-center" }, c = { class: "card bg-secondary-light" }, d = { class: "card-body", style: { "--bs-card-spacer-y": "0.01rem" } }, u = { class: "card-title" }, _ = { class: "text-primary" }; function h(a, t, s, e, h, w) { const g = (0, i.up)("loader"), m = (0, i.up)("nav-bar"), p = (0, i.up)("wizard"); return (0, i.wg)(), (0, i.iD)("div", null, [h.show_view.loader ? ((0, i.wg)(), (0, i.j4)(g, { key: 0 })) : (0, i.kq)("", !0), h.show_view.loader ? (0, i.kq)("", !0) : ((0, i.wg)(), (0, i.j4)(m, { key: 1, taking_name: h.taking_name }, null, 8, ["taking_name"])), h.show_view.loader ? (0, i.kq)("", !0) : ((0, i.wg)(), (0, i.iD)("div", n, [(0, i._)("div", o, [(0, i._)("div", r, [(0, i._)("div", c, [(0, i._)("div", d, [(0, i._)("h5", u, [(0, i.Uk)("Saldos SAP al "), (0, i._)("span", _, (0, l.zw)(w.sap_migration_date), 1)])])])])])])), h.show_view.loader ? (0, i.kq)("", !0) : ((0, i.wg)(), (0, i.j4)(p, { key: 3, class: "mt-3", migration_data: h.migration_data, onUpdateName: t[0] || (t[0] = a => w.updateName(a)), onSendData: t[1] || (t[1] = a => w.sendData(a)) }, null, 8, ["migration_data"]))]) } s(5654); var w = s(9989), g = s(505); s(6929); const m = { class: "bg-light" }, p = { class: "navbar navbar-expand-lg navbar-light" }, v = { class: "container-fluid" }, b = { class: "navbar-brand", href: "#" }, f = { class: "text-primary" }, k = (0, i.uE)('<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarText"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a href="/" class="nav-link"><i class="fa-solid fa-home"></i> Inicio </a></li><li class="nav-item"><a href="/sap/" class="nav-link"><i class="fa-solid fa-server"></i> Saldos SAP </a></li><li class="nav-item"><a href="/takings/" class="nav-link"><i class="fa-solid fa-list-check"></i> Tomas </a></li><li>   </li></ul><ul class="navbar-nav ml-auto"><li class="nav-item border"><span class="nav-link"><span> Bodegas: </span><strong class="badge rounded-pill bg-light text-dark">12</strong></span></li>   <li class="nav-item border"><span class="nav-link"><span> Grupos: </span><strong class="badge rounded-pill bg-light text-dark">1</strong></span></li></ul><span class="nav-div">    </span><ul class="navbar-nav ml-auto"><li class="nav-item text-primary"><i class="fas fa-user text-secondary"></i>   Eduardo Villota   <span class="navbar-text">   <a href="/accounts/logout/"><i class="fas fa-power-off text-danger"></i></a></span></li></ul></div>', 2); function y(a, t, s, e, n, o) { return (0, i.wg)(), (0, i.iD)("div", m, [(0, i._)("nav", p, [(0, i._)("div", v, [(0, i._)("a", b, [(0, i.Uk)("Asistente "), (0, i._)("small", f, (0, l.zw)(s.taking_name), 1)]), k])])]) } var x = { name: "NavBar", emits: [], data() { return { name: "NavBar" } }, props: { taking_name: { type: String, default: "" } }, methods: {} }, D = s(89); const V = (0, D.Z)(x, [["render", y]]); var C = V; const S = { class: "container text-center" }, T = { class: "row shadow-sm" }, q = { class: "nav nav-pills nav-fill" }, z = (0, i._)("span", { class: "badge bg-secondary" }, [(0, i._)("i", { class: "fa-solid fa-home" })], -1), O = (0, i._)("span", { class: "badge bg-secondary" }, [(0, i._)("i", { class: "fa-solid fa-warehouse" })], -1), U = (0, i._)("span", { class: "badge bg-secondary" }, [(0, i._)("i", { class: "fa-solid fa-users" })], -1), j = (0, i._)("span", { class: "badge bg-secondary" }, [(0, i._)("i", { class: "fa-solid fa-list-check" })], -1), N = (0, i._)("span", { class: "badge bg-secondary" }, [(0, i._)("i", { class: "fa-solid fa-chevron-down" })], -1), A = { class: "row rounded border mt-2 shadow" }, E = (0, i._)("p", null, null, -1); function L(a, t, s, e, n, o) { const r = (0, i.up)("name-tab"), c = (0, i.up)("warenhouses-tab"), d = (0, i.up)("teams-tab"), u = (0, i.up)("item-selection-tab"), _ = (0, i.up)("resume-tab"); return (0, i.wg)(), (0, i.iD)("div", S, [(0, i._)("div", T, [(0, i._)("ul", q, [(0, i._)("li", { class: "nav-item", onClick: t[0] || (t[0] = a => o.showView(1)) }, [(0, i._)("a", { class: (0, l.C_)(["nav-link", { active: n.show_views.step1 }]), href: "#" }, [z, (0, i.Uk)("   Nombre ")], 2)]), (0, i._)("li", { class: "nav-item", onClick: t[1] || (t[1] = a => o.showView(2)) }, [(0, i._)("a", { class: (0, l.C_)(["nav-link", { active: n.show_views.step2 }]), href: "#" }, [O, (0, i.Uk)("   Bodegas ")], 2)]), (0, i._)("li", { class: "nav-item", onClick: t[2] || (t[2] = a => o.showView(3)) }, [(0, i._)("a", { class: (0, l.C_)(["nav-link", { active: n.show_views.step3 }]), href: "#" }, [U, (0, i.Uk)("   Grupos ")], 2)]), (0, i._)("li", { class: "nav-item", onClick: t[3] || (t[3] = a => o.showView(4)) }, [(0, i._)("a", { class: (0, l.C_)(["nav-link", { active: n.show_views.step4 }]), href: "#" }, [j, (0, i.Uk)("   Items ")], 2)]), (0, i._)("li", { class: "nav-item", onClick: t[4] || (t[4] = a => o.showView(5)) }, [(0, i._)("a", { class: (0, l.C_)(["nav-link", { active: n.show_views.step5 }]), href: "#" }, [N, (0, i.Uk)(" Resumen ")], 2)])])]), (0, i._)("div", A, [n.show_views.step1 ? ((0, i.wg)(), (0, i.j4)(r, { key: 0, migration_data: s.migration_data, taking_data: n.taking_data, onShowView: t[5] || (t[5] = a => o.showView(a)), onUpdateName: t[6] || (t[6] = a => o.updateName(a)) }, null, 8, ["migration_data", "taking_data"])) : (0, i.kq)("", !0), n.show_views.step2 ? ((0, i.wg)(), (0, i.j4)(c, { key: 1, migration_data: s.migration_data, taking_data: n.taking_data, onShowView: t[7] || (t[7] = a => o.showView(a)) }, null, 8, ["migration_data", "taking_data"])) : (0, i.kq)("", !0), n.show_views.step3 ? ((0, i.wg)(), (0, i.j4)(d, { key: 2, teams: s.migration_data.all_users, taking_data: n.taking_data, onShowView: t[8] || (t[8] = a => o.showView(a)) }, null, 8, ["teams", "taking_data"])) : (0, i.kq)("", !0), n.show_views.step4 ? ((0, i.wg)(), (0, i.j4)(u, { key: 3, taking_data: n.taking_data, onShowView: t[9] || (t[9] = a => o.showView(a)) }, null, 8, ["taking_data"])) : (0, i.kq)("", !0), n.show_views.step5 ? ((0, i.wg)(), (0, i.j4)(_, { key: 4, taking_data: n.taking_data, migration_data: s.migration_data, onShowView: t[10] || (t[10] = a => o.showView(a)), onSendData: t[11] || (t[11] = a => o.sendData(a)) }, null, 8, ["taking_data", "migration_data"])) : (0, i.kq)("", !0), E])]) } const I = { class: "row mt-2" }, M = (0, i._)("h5", { class: "mt-2" }, "NOMBRE DE LA TOMA", -1), Z = { class: "col bg-light" }, B = { class: "row" }, K = (0, i.uE)('<div class="col"><div class="card"><div class="card-body text-start"><h5 class="card-title text-info">Recomendación</h5><p class="card-text text-secondary"> Se recomienda el uso de nombre cortos, no importa si los nombres son los mismo en cada toma, el sistema asigna un código único a cada toma. <br> Por ejemplo: <ul class="list-group"><li class="list-group-item text-secondary p-1">Guarda Cuenca</li><li class="list-group-item text-secondary p-1">Vinesa 10 De Agosto</li><li class="list-group-item text-secondary p-1">Vinlitoral Parque California</li><li class="list-group-item text-secondary p-1">Guarda Xima</li><li class="list-group-item text-secondary p-1">Sermultimarc</li></ul></p></div></div></div>', 1), W = { class: "col" }, H = { class: "row mt-2" }, P = { class: "col text-end" }, Y = (0, i._)("i", { class: "fa-solid fa-chevron-right" }, null, -1), $ = (0, i._)("br", null, null, -1); function R(a, t, s, l, n, o) { return (0, i.wg)(), (0, i.iD)("div", I, [M, (0, i._)("div", Z, [(0, i._)("div", B, [K, (0, i._)("div", W, [(0, i.wy)((0, i._)("input", { type: "text", class: "form-control form-control-sm", maxlength: "30", "onUpdate:modelValue": t[0] || (t[0] = a => n.taking_name = a), onBlur: t[1] || (t[1] = (...a) => o.updateName && o.updateName(...a)), autofocus: "" }, null, 544), [[e.nr, n.taking_name]])])]), (0, i._)("div", H, [(0, i._)("div", P, [(0, i._)("button", { class: "btn btn-success", onClick: t[2] || (t[2] = a => o.showView(2)) }, [(0, i.Uk)(" Siguiente "), Y])])]), $])]) } var G = { name: "NameTab", emits: ["updateName", "showView"], props: { migration_data: { type: Object, required: !0 }, taking_data: { type: Object, required: !0 } }, data() { return { taking_name: "" } }, methods: { updateName() { this.taking_name = this.taking_name.toUpperCase(), this.$emit("updateName", this.taking_name) }, showView(a) { this.$emit("showView", a) } }, mounted() { this.taking_name = this.taking_data.name } }; const F = (0, D.Z)(G, [["render", R]]); var X = F; const Q = { class: "row mt-2" }, J = (0, i._)("h5", { class: "mt-2" }, "BODEGAS DISPONIBLES", -1), aa = { class: "col bg-light" }, ta = { class: "row" }, sa = { class: "col" }, ea = { class: "row" }, ia = { class: "col-8 mt-2" }, la = { class: "input-group input-group-sm mb-3" }, na = (0, i._)("span", { class: "input-group-text", id: "inputGroup-sizing-sm" }, "Filtrar: ", -1), oa = { class: "table table-bordered table-hover mi_table" }, ra = (0, i._)("thead", null, [(0, i._)("tr", null, [(0, i._)("th", null, "#"), (0, i._)("th", null, "Bodega"), (0, i._)("th", null, [(0, i._)("i", { class: "fas fa-cogs" })])])], -1), ca = ["onClick"], da = { class: "text-start" }, ua = (0, i._)("td", { class: "text-center" }, [(0, i._)("i", { class: "fa-solid fa-plus text-success" })], -1), _a = { class: "col-4" }, ha = { class: "card-body border-blue" }, wa = (0, i._)("h6", { class: "card-title bg-secondary-light" }, "Bodegas Seleccionadas", -1), ga = ["onClick"], ma = (0, i._)("i", { class: "fa-solid fa-minus text-danger" }, null, -1), pa = (0, i._)("br", null, null, -1), va = { class: "card-body border-blue" }, ba = (0, i._)("h6", { class: "card-title bg-secondary-light" }, "Propietarios", -1), fa = { class: "list-group-item p-1" }, ka = { class: "row mt-3" }, ya = { class: "col text-start" }, xa = (0, i._)("i", { class: "fa-solid fa-chevron-left" }, null, -1), Da = { class: "col text-end" }, Va = (0, i._)("i", { class: "fa-solid fa-chevron-right" }, null, -1), Ca = (0, i._)("br", null, null, -1); function Sa(a, t, s, n, o, r) { return (0, i.wg)(), (0, i.iD)("div", Q, [J, (0, i._)("div", aa, [(0, i._)("div", ta, [(0, i._)("div", sa, [(0, i._)("div", ea, [(0, i._)("div", ia, [(0, i._)("div", la, [na, (0, i.wy)((0, i._)("input", { type: "text", class: "form-control", "aria-label": "Sizing example input", "aria-describedby": "inputGroup-sizing-sm", "onUpdate:modelValue": t[0] || (t[0] = a => o.filter_query = a), onKeyup: t[1] || (t[1] = (...a) => r.filterWarenhouses && r.filterWarenhouses(...a)) }, null, 544), [[e.nr, o.filter_query]])]), (0, i._)("table", oa, [ra, (0, i._)("tbody", null, [((0, i.wg)(!0), (0, i.iD)(i.HY, null, (0, i.Ko)(o.all_warenhouses.filter((a => !a.selected)), ((a, t) => ((0, i.wg)(), (0, i.iD)("tr", { key: a, onClick: t => r.updateWarenhouse(a) }, [(0, i._)("td", null, (0, l.zw)(t + 1), 1), (0, i._)("td", da, (0, l.zw)(a.warenhouse), 1), ua], 8, ca)))), 128))])])]), (0, i._)("div", _a, [(0, i._)("div", ha, [wa, ((0, i.wg)(!0), (0, i.iD)(i.HY, null, (0, i.Ko)(s.taking_data.warenhouses, (a => ((0, i.wg)(), (0, i.iD)("ul", { class: "list-group text-start", key: a }, [(0, i._)("li", { class: "list-group-item p-1", onClick: t => r.updateWarenhouse(a, !0) }, [ma, (0, i.Uk)("   " + (0, l.zw)(a.warenhouse), 1)], 8, ga)])))), 128))]), pa, (0, i._)("div", va, [ba, ((0, i.wg)(!0), (0, i.iD)(i.HY, null, (0, i.Ko)(o.warehouses_owner, (a => ((0, i.wg)(), (0, i.iD)("ul", { class: "list-group text-start", key: a }, [(0, i._)("li", fa, (0, l.zw)(a), 1)])))), 128))])])])])]), (0, i._)("div", ka, [(0, i._)("div", ya, [(0, i._)("button", { class: "btn btn-primary", onClick: t[2] || (t[2] = a => r.showView(1)) }, [xa, (0, i.Uk)(" Anterior ")])]), (0, i._)("div", Da, [(0, i._)("button", { class: "btn btn-success", onClick: t[3] || (t[3] = a => r.showView(3)) }, [(0, i.Uk)(" Siguiente"), Va])])]), Ca])]) } s(7658); var Ta = { name: "WarenhousesTab", emits: ["showView"], props: { migration_data: { type: Object, required: !0 }, taking_data: { type: Object, required: !0 } }, data() { return { all_warenhouses: [], owners: [], filter_query: "", warehouses_owner: [] } }, mounted() { this.all_warenhouses = this.migration_data.warenhouses.map((a => ({ warenhouse: a, selected: !1 }))), this.updateOwners() }, methods: { filterWarenhouses() { this.all_warenhouses = this.migration_data.warenhouses.map((a => ({ warenhouse: a, selected: !1 }))), this.all_warenhouses = this.all_warenhouses.filter((a => !this.taking_data.warenhouses.some((t => t.warenhouse === a.warenhouse)))), this.filter_query.length > 3 && (this.all_warenhouses = this.all_warenhouses.filter((a => a.warenhouse.toLowerCase().includes(this.filter_query.toLowerCase())))) }, showView(a) { this.$emit("showView", a) }, updateWarenhouse(a, t = !1) { if (t) return this.taking_data.warenhouses = this.taking_data.warenhouses.filter((t => t.warenhouse !== a.warenhouse)), this.filterWarenhouses(), void this.updateOwners(); a.selected = !0, this.taking_data.warenhouses.push(a), this.updateOwners() }, updateOwners() { this.warehouses_owner = []; const a = this.migration_data.warenhouses_owners.map((a => a)); a.filter((a => { this.taking_data.warenhouses.some((t => { t.warenhouse === a.warenhouse_name && this.warehouses_owner.push(a.owners.map((a => a))) })) })), this.warehouses_owner = this.warehouses_owner.flat(), this.warehouses_owner = [...new Set(this.warehouses_owner)] } } }; const qa = (0, D.Z)(Ta, [["render", Sa]]); var za = qa; const Oa = { class: "row mt-2" }, Ua = (0, i._)("h5", { class: "mt-2" }, "ASISTENTES DE TOMA", -1), ja = { class: "col bg-light" }, Na = { class: "row" }, Aa = { class: "col-8 mt-2" }, Ea = { class: "table table-bordered table-hover table-condensed mi_table" }, La = (0, i._)("thead", null, [(0, i._)("tr", null, [(0, i._)("th", null, "#"), (0, i._)("th", null, "Nombre"), (0, i._)("th", null, "Username"), (0, i._)("th", null, [(0, i._)("i", { class: "fas fa-cogs" })])])], -1), Ia = ["onClick"], Ma = { class: "text-center" }, Za = { class: "text-start" }, Ba = { class: "text-start" }, Ka = (0, i._)("td", { class: "text-success" }, [(0, i._)("i", { class: "fa-solid fa-plus" })], -1), Wa = { class: "col-4" }, Ha = { class: "card-body bg-secondary-light border-blue" }, Pa = (0, i._)("h6", { class: "card-title" }, "Usuarios Seleccionados", -1), Ya = ["onClick"], $a = { class: "list-group-item p-1" }, Ra = (0, i._)("i", { class: "fa-solid fa-minus text-danger" }, null, -1), Ga = { class: "badge bg-light text-secondary border" }, Fa = (0, i._)("br", null, null, -1), Xa = { class: "row mt-3" }, Qa = { class: "col text-start" }, Ja = (0, i._)("i", { class: "fa-solid fa-chevron-left" }, null, -1), at = { class: "col text-end" }, tt = (0, i._)("i", { class: "fa-solid fa-chevron-right" }, null, -1), st = (0, i._)("br", null, null, -1); function et(a, t, s, n, o, r) { return (0, i.wg)(), (0, i.iD)("div", Oa, [Ua, (0, i._)("div", ja, [(0, i._)("div", Na, [(0, i._)("div", Aa, [(0, i.wy)((0, i._)("input", { type: "text", "onUpdate:modelValue": t[0] || (t[0] = a => o.query = a), class: "form-control", placeholder: "Buscar", onKeyup: t[1] || (t[1] = (...a) => r.filterUsers && r.filterUsers(...a)) }, null, 544), [[e.nr, o.query]]), (0, i._)("table", Ea, [La, (0, i._)("tbody", null, [((0, i.wg)(!0), (0, i.iD)(i.HY, null, (0, i.Ko)(o.all_teams, ((a, t) => ((0, i.wg)(), (0, i.iD)("tr", { key: a.id, onClick: t => r.updateTeams(a) }, [(0, i._)("td", Ma, (0, l.zw)(t + 1), 1), (0, i._)("td", Za, (0, l.zw)(a.last_name) + " " + (0, l.zw)(a.first_name), 1), (0, i._)("td", Ba, (0, l.zw)(a.username), 1), Ka], 8, Ia)))), 128))])])]), (0, i._)("div", Wa, [(0, i._)("div", Ha, [Pa, ((0, i.wg)(!0), (0, i.iD)(i.HY, null, (0, i.Ko)(s.taking_data.groups, (a => ((0, i.wg)(), (0, i.iD)("ul", { class: "list-group text-start", key: a.username, onClick: t => r.updateTeams(a, !0) }, [(0, i._)("li", $a, [Ra, (0, i.Uk)(" " + (0, l.zw)(a.last_name) + " " + (0, l.zw)(a.first_name) + " ", 1), (0, i._)("small", Ga, (0, l.zw)(a.username), 1)])], 8, Ya)))), 128))]), Fa])]), (0, i._)("div", Xa, [(0, i._)("div", Qa, [(0, i._)("button", { class: "btn btn-primary", onClick: t[2] || (t[2] = a => r.showView(2)) }, [Ja, (0, i.Uk)(" Anterior ")])]), (0, i._)("div", at, [(0, i._)("button", { class: "btn btn-success", onClick: t[3] || (t[3] = a => r.showView(4)) }, [(0, i.Uk)(" Siguiente"), tt])])]), st])]) } var it = { name: "TeamsTab", emits: ["showView"], props: { teams: { type: Object, required: !0 }, taking_data: { type: Object, required: !0 } }, data() { return { query: "", all_teams: [] } }, methods: { filterUsers() { this.all_teams = this.teams.map((a => a)), this.all_teams = this.all_teams.filter((a => !this.taking_data.groups.some((t => t.username == a.username)))), this.all_teams = this.all_teams.filter((a => a.username.toLowerCase().includes(this.query.toLowerCase()) || a.first_name.toLowerCase().includes(this.query.toLowerCase()) || a.last_name.toLowerCase().includes(this.query.toLowerCase()))) }, showView(a) { this.$emit("showView", a) }, updateTeams(a, t = !1) { t ? this.taking_data.groups = this.taking_data.groups.filter((t => t.username != a.username)) : this.taking_data.groups.push(a), this.filterUsers() } }, mounted() { this.filterUsers() }, computed() { } }; const lt = (0, D.Z)(it, [["render", et]]); var nt = lt; const ot = { class: "row mt-2" }, rt = (0, i._)("h5", { class: "mt-2" }, "PERSONALIZAR ITEMS TOMA", -1), ct = { class: "col bg-light" }, dt = { class: "row" }, ut = { class: "col-8" }, _t = { class: "table table-bordered table-hover table-condesed mi_table" }, ht = (0, i._)("thead", null, [(0, i._)("tr", null, [(0, i._)("th", null, "#"), (0, i._)("th", null, "Tipo"), (0, i._)("th", null, [(0, i._)("i", { class: "fas fa-cogs" })])])], -1), wt = ["onClick"], gt = { class: "text-start" }, mt = { class: "text-center" }, pt = { class: "col-4" }, vt = { class: "card-body border-blue" }, bt = (0, i._)("h6", { class: "card-title" }, "Items Seleccionados", -1), ft = { class: "list-group-item p-1" }, kt = (0, i._)("i", { class: "fa-solid fa-minus text-danger" }, null, -1), yt = (0, i._)("br", null, null, -1), xt = { class: "row mt-3" }, Dt = { class: "col text-start" }, Vt = (0, i._)("i", { class: "fa-solid fa-chevron-left" }, null, -1), Ct = { class: "col text-end" }, St = (0, i._)("i", { class: "fa-solid fa-chevron-right" }, null, -1), Tt = (0, i._)("br", null, null, -1); function qt(a, t, s, e, n, o) { return (0, i.wg)(), (0, i.iD)("div", ot, [rt, (0, i._)("div", ct, [(0, i._)("div", dt, [(0, i._)("div", ut, [(0, i._)("table", _t, [ht, (0, i._)("tbody", null, [((0, i.wg)(!0), (0, i.iD)(i.HY, null, (0, i.Ko)(s.taking_data.categories, ((a, t) => ((0, i.wg)(), (0, i.iD)("tr", { key: a, onClick: t => a.selected = !a.selected }, [(0, i._)("td", null, (0, l.zw)(t + 1), 1), (0, i._)("td", gt, (0, l.zw)(a.category), 1), (0, i._)("td", mt, [(0, i._)("span", { class: (0, l.C_)(a.selected ? "text-danger" : "text-success") }, (0, l.zw)(a.selected ? "Quitar" : "Agregar"), 3)])], 8, wt)))), 128)), (0, i.kq)("", !0)])])]), (0, i._)("div", pt, [(0, i._)("div", vt, [bt, ((0, i.wg)(!0), (0, i.iD)(i.HY, null, (0, i.Ko)(o.selected_categories, (a => ((0, i.wg)(), (0, i.iD)("ul", { class: "list-group text-start", key: a }, [(0, i._)("li", ft, [kt, (0, i.Uk)(" " + (0, l.zw)(a.category) + " ", 1), ((0, i.wg)(!0), (0, i.iD)(i.HY, null, (0, i.Ko)(a.items, (a => ((0, i.wg)(), (0, i.iD)("ul", { key: a }, [(0, i._)("li", null, (0, l.zw)(a), 1)])))), 128))])])))), 128))]), yt])]), (0, i._)("div", xt, [(0, i._)("div", Dt, [(0, i._)("button", { class: "btn btn-primary", onClick: t[0] || (t[0] = a => o.showView(3)) }, [Vt, (0, i.Uk)(" Anterior ")])]), (0, i._)("div", Ct, [(0, i._)("button", { class: "btn btn-success", onClick: t[1] || (t[1] = a => o.showView(5)) }, [(0, i.Uk)(" Siguiente"), St])])]), Tt])]) } var zt = { name: "ItemSelectionTab", emits: ["showView"], props: { taking_data: { type: Object, required: !0 } }, data() { return { all_categories: [] } }, methods: { showView(a) { this.$emit("showView", a) }, showView(a) { this.$emit("showView", a) } }, mounted() { }, computed: { selected_categories() { return this.taking_data.categories.filter((a => a.selected)) } } }; const Ot = (0, D.Z)(zt, [["render", qt]]); var Ut = Ot; const jt = { class: "row mt-1" }, Nt = (0, i._)("h5", { class: "mt-1" }, "RESUMEN DE TOMA", -1), At = { key: 0, class: "alert alert-danger p-1", role: "alert" }, Et = (0, i._)("h6", null, "Informacion incompleta, por favor verifíque todos los campos para continuar", -1), Lt = [Et], It = { class: "col bg-light" }, Mt = { class: "row" }, Zt = { class: "col" }, Bt = { class: "row mt-2" }, Kt = (0, i._)("div", { class: "col text-end" }, [(0, i._)("strong", null, "Nombre Toma:")], -1), Wt = { class: "col text-start" }, Ht = { class: "list-group text-start" }, Pt = { class: "list-group-item p-1" }, Yt = { class: "row mt-2" }, $t = (0, i._)("div", { class: "col text-end" }, [(0, i._)("strong", null, "Bodegas Seleccionadas:")], -1), Rt = { class: "col" }, Gt = { class: "list-group-item p-1" }, Ft = { class: "row mt-2" }, Xt = (0, i._)("div", { class: "col text-end" }, [(0, i._)("strong", null, "Grupos Asignados:")], -1), Qt = { class: "col" }, Jt = { class: "list-group-item p-1" }, as = { class: "bage bg-light border" }, ts = { class: "row mt-2" }, ss = (0, i._)("div", { class: "col text-end" }, [(0, i._)("strong", null, "Items a Contar:")], -1), es = { class: "col" }, is = { class: "list-group-item p-1" }, ls = { class: "row mt-3" }, ns = { class: "col text-start" }, os = (0, i._)("i", { class: "fa-solid fa-chevron-left" }, null, -1), rs = { class: "col text-end" }, cs = (0, i._)("i", { class: "fa-solid fa-chevron-right" }, null, -1), ds = (0, i._)("br", null, null, -1); function us(a, t, s, e, n, o) { return (0, i.wg)(), (0, i.iD)("div", jt, [Nt, o.isValidData ? (0, i.kq)("", !0) : ((0, i.wg)(), (0, i.iD)("div", At, Lt)), (0, i._)("div", It, [(0, i._)("div", Mt, [(0, i._)("div", Zt, [(0, i._)("div", Bt, [Kt, (0, i._)("div", Wt, [(0, i._)("ul", Ht, [(0, i._)("li", Pt, (0, l.zw)(s.taking_data.name), 1)])])]), (0, i._)("div", Yt, [$t, (0, i._)("div", Rt, [((0, i.wg)(!0), (0, i.iD)(i.HY, null, (0, i.Ko)(s.taking_data.warenhouses, (a => ((0, i.wg)(), (0, i.iD)("ul", { class: "list-group text-start", key: a }, [(0, i._)("li", Gt, (0, l.zw)(a.warenhouse), 1)])))), 128))])]), (0, i._)("div", Ft, [Xt, (0, i._)("div", Qt, [((0, i.wg)(!0), (0, i.iD)(i.HY, null, (0, i.Ko)(s.taking_data.groups, (a => ((0, i.wg)(), (0, i.iD)("ul", { class: "list-group text-start", key: a.username }, [(0, i._)("li", Jt, [(0, i._)("small", as, (0, l.zw)(a.username), 1), (0, i.Uk)("   " + (0, l.zw)(a.first_name) + " " + (0, l.zw)(a.last_name), 1)])])))), 128))])]), (0, i._)("div", ts, [ss, (0, i._)("div", es, [((0, i.wg)(!0), (0, i.iD)(i.HY, null, (0, i.Ko)(s.taking_data.categories.filter((a => a.selected)), (a => ((0, i.wg)(), (0, i.iD)("ul", { class: "list-group text-start", key: a.category }, [(0, i._)("li", is, (0, l.zw)(a.category), 1)])))), 128))])])])]), (0, i._)("div", ls, [(0, i._)("div", ns, [(0, i._)("button", { class: "btn btn-primary", onClick: t[0] || (t[0] = a => o.showView(4)) }, [os, (0, i.Uk)(" Anterior ")])]), (0, i._)("div", rs, [o.isValidData ? ((0, i.wg)(), (0, i.iD)("button", { key: 0, class: "btn btn-success", onClick: t[1] || (t[1] = (...a) => o.sendData && o.sendData(...a)) }, [(0, i.Uk)(" Finalizar "), cs])) : (0, i.kq)("", !0)])]), ds])]) } var _s = { name: "ResumeTab", emits: ["showView", "sendData"], props: { taking_data: { type: Object, required: !0 } }, methods: { showView(a) { this.$emit("showView", a) }, sendData() { this.$emit("sendData") } }, computed: { isValidData() { return "" != this.taking_data.name && this.taking_data.warenhouses.length > 0 && this.taking_data.groups.length > 0 && this.taking_data.categories.length > 0 } } }; const hs = (0, D.Z)(_s, [["render", us]]); var ws = hs, gs = { components: { NameTab: X, WarenhousesTab: za, TeamsTab: nt, ItemSelectionTab: Ut, ResumeTab: ws }, name: "Wizard", emits: ["updateName", "sendData"], props: { migration_data: { type: Object, default: null } }, data() { return { show_views: { step1: !0, step2: !1, step3: !1, step4: !1, step5: !1 }, taking_data: { id_sap_migration: null, name: "", warenhouses: [], groups: [], categories: [] } } }, methods: { showView(a) { this.show_views.step1 = !1, this.show_views.step2 = !1, this.show_views.step3 = !1, this.show_views.step4 = !1, this.show_views.step5 = !1; let t = "step" + a; this.show_views[t] = !0 }, updateName(a) { this.taking_data.name = a, this.$emit("updateName", a) }, sendData() { this.$emit("sendData", this.taking_data) } }, mounted() { this.taking_data.id_sap_migration = this.migration_data.sap_migration.id_sap_migration; let a = this.migration_data.type_products.map((a => a.type_product.split(";")[0])); a = [...new Set(a)], this.taking_data.categories = a.map((a => { let t = this.migration_data.type_products.filter((t => t.type_product.split(";")[0] == a)); return t = t.map((a => a.type_product.split(";")[1])), { category: a, items: t, selected: !1 } })) } }; const ms = (0, D.Z)(gs, [["render", L]]); var ps = ms; const vs = a => ((0, i.dD)("data-v-384d3076"), a = a(), (0, i.Cn)(), a), bs = { class: "container mt-5" }, fs = vs((() => (0, i._)("div", { class: "row" }, [(0, i._)("div", { class: "col text-center" }, [(0, i._)("div", { class: "spinner-border text-primary", style: { width: "20rem", height: "20rem" }, role: "status" })])], -1))), ks = vs((() => (0, i._)("div", { class: "row mt-5" }, [(0, i._)("div", { class: "col text-center" }, [(0, i._)("h1", { class: "text-secondary text-blink" }, " Cargando Datos... ")])], -1))), ys = [fs, ks]; function xs(a, t, s, e, l, n) { return (0, i.wg)(), (0, i.iD)("div", bs, ys) } var Ds = { name: "Loader" }; const Vs = (0, D.Z)(Ds, [["render", xs], ["__scopeId", "data-v-384d3076"]]); var Cs = Vs, Ss = s(4161), Ts = "", qs = url_data, zs = csrf_token,Os={name:"App",components:{NavBar:C,Wizard:ps,Loader:Cs},data(){return{show_view:{loader:!0},taking_name:"",migration_data:null,categories:[],all_users:[]}},computed:{sap_migration_date(){if(this.migration_data){let a=new Date(this.migration_data.sap_migration.created);return(0,w.Z)(a,"dd MMMM yyyy hh:mm:ss",{locale:g.Z})}return""}},mounted(){this.LoadInitData()},methods:{LoadInitData(){return Ss.Z.get(Ts+qs,{"Content-Type":"application/json",Accept:"application/json"}).then((a=>{this.migration_data=a.data,this.show_view.loader=!1})).catch((a=>{alert("Error al obtener los datos del reporte"+a)}))},updateName(a){document.title=a,this.taking_name=a},updateWarenhousesList_uncall(a){console.log("warenhouse",a),this.migration_data.warenhouses.forEach((t=>{t.warenhouse===a&&(t.selected=!t.selected)}))},sendData(a){this.show_view.loader=!0,Ss.Z.post(Ts,a,{headers:{"Content-Type":"application/json","X-CSRFToken":zs}}).then((a=>{let t=a.data;window.location.href=Ts+"/takings/detail/"+t.id_taking,this.show_view.loader=!1})).catch((a=>{alert("Error al obtener los datos del reporte"+a)}))}}};const Us=(0,D.Z)(Os,[["render",h]]);var js=Us;const Ns=(0,e.ri)(js);Ns.mount("#app")}},t={};function s(e){var i=t[e];if(void 0!==i)return i.exports;var l=t[e]={exports:{}};return a[e].call(l.exports,l,l.exports,s),l.exports}s.m=a,function(){var a=[];s.O=function(t,e,i,l){if(!e){var n=1/0;for(d=0;d<a.length;d++){e=a[d][0],i=a[d][1],l=a[d][2];for(var o=!0,r=0;r<e.length;r++)(!1&l||n>=l)&&Object.keys(s.O).every((function(a){return s.O[a](e[r])}))?e.splice(r--,1):(o=!1,l<n&&(n=l));if(o){a.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=a.length;d>0&&a[d-1][2]>l;d--)a[d]=a[d-1];a[d]=[e,i,l]}}(),function(){s.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return s.d(t,{a:t}),t}}(),function(){s.d=function(a,t){for(var e in t)s.o(t,e)&&!s.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){s.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){s.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={143:0};s.O.j=function(t){return 0===a[t]};var t=function(t,e){var i,l,n=e[0],o=e[1],r=e[2],c=0;if(n.some((function(t){return 0!==a[t]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(r)var d=r(s)}for(t&&t(e);c<n.length;c++)l=n[c],s.o(a,l)&&a[l]&&a[l][0](),a[l]=0;return s.O(d)},e=self["webpackChunkwizard"]=self["webpackChunkwizard"]||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}();var e=s.O(void 0,[998],(function(){return s(6288)}));e=s.O(e)})();
//# sourceMappingURL=app.a970acb6.js.map